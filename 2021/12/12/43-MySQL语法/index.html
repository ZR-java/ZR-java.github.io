<!DOCTYPE html><html lang="zh-CN"><head><!-- hexo injector head_begin start --><link href="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.1.1/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="ZR"><meta name="copyright" content="ZR"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>43-MySQLè¯­æ³• | ZRçš„å°ç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"zr-java.github.io","root":"/","title":["ZR","çš„","åƒ","åœ¾","åœº"],"version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="SQLè¯­è¨€çš„åˆ†ç±»  æ•°æ®æŸ¥è¯¢è¯­è¨€DQL.(Data Query Language) æ•°æ®æŸ¥è¯¢è¯­è¨€DQLåŸºæœ¬ç»“æ„æ˜¯ç”±SELECTå­å¥ï¼ŒFROMå­å¥ï¼ŒWHEREå­å¥ç»„æˆçš„æŸ¥è¯¢å—ï¼šSELECT &lt;å­—æ®µåè¡¨&gt;FROM &lt;è¡¨æˆ–è§†å›¾å&gt;WHERE &lt;æŸ¥è¯¢æ¡ä»¶&gt;  æ•°æ®æ“çºµè¯­è¨€DML.(Data Manipulation Language) æ•°æ®æ“çºµè¯­è¨€DMLä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼š">
<meta property="og:type" content="article">
<meta property="og:title" content="43-MySQLè¯­æ³•">
<meta property="og:url" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/index.html">
<meta property="og:site_name" content="ZRçš„å°ç«™">
<meta property="og:description" content="SQLè¯­è¨€çš„åˆ†ç±»  æ•°æ®æŸ¥è¯¢è¯­è¨€DQL.(Data Query Language) æ•°æ®æŸ¥è¯¢è¯­è¨€DQLåŸºæœ¬ç»“æ„æ˜¯ç”±SELECTå­å¥ï¼ŒFROMå­å¥ï¼ŒWHEREå­å¥ç»„æˆçš„æŸ¥è¯¢å—ï¼šSELECT &lt;å­—æ®µåè¡¨&gt;FROM &lt;è¡¨æˆ–è§†å›¾å&gt;WHERE &lt;æŸ¥è¯¢æ¡ä»¶&gt;  æ•°æ®æ“çºµè¯­è¨€DML.(Data Manipulation Language) æ•°æ®æ“çºµè¯­è¨€DMLä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼š">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%86%85%E8%81%94.jpg">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5.jpg">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5.jpg">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5.jpg">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/zang.png">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/bu.png">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/huan.png">
<meta property="og:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/rep.png">
<meta property="article:published_time" content="2021-12-12T12:16:01.000Z">
<meta property="article:modified_time" content="2022-03-14T13:27:47.622Z">
<meta property="article:author" content="ZR">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%86%85%E8%81%94.jpg"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="ZR"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="ZR"><span class="site-author-status" title="ä¸æƒ³ä¸Šå­¦">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">ZR</a></div><span class="site-name">ZRçš„å°ç«™</span><sub class="site-subtitle"></sub><div class="site-desciption">é«˜çº§æ‰“å­—å‘˜</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="æˆ‘çš„ä¸»é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">78</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">8</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:247132084@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/ZR-java" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL%E8%AF%AD%E8%A8%80%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.</span> <span class="toc-text">SQLè¯­è¨€çš„åˆ†ç±»</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">æŸ¥è¯¢å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.</span> <span class="toc-text">ç®€å•æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0"><span class="toc-number">2.1.1.</span> <span class="toc-text">ç®€å•æŸ¥è¯¢ç»ƒä¹ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.2.</span> <span class="toc-text">åŸºç¡€æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.3.</span> <span class="toc-text">æ¡ä»¶æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.4.</span> <span class="toc-text">æ¨¡ç³ŠæŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.5.</span> <span class="toc-text">æ’åºè¯­å¥</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.</span> <span class="toc-text">å…³è”æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0-%E5%86%85%E8%81%94%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.1.</span> <span class="toc-text">å…³è”æŸ¥è¯¢ç»ƒä¹  - å†…è”æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2-%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.</span> <span class="toc-text">å…³è”æŸ¥è¯¢-è¿æ¥çš„æ–¹å¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">4.</span> <span class="toc-text">å¤šè¡Œå‡½æ•°</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.</span> <span class="toc-text">åˆ†ç»„æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#having-%E7%BB%84%E5%87%BD%E6%95%B0%E5%88%A4%E6%96%AD"><span class="toc-number">5.1.</span> <span class="toc-text">having ç»„å‡½æ•°åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.</span> <span class="toc-text">å­æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">6.1.</span> <span class="toc-text">ç»ƒä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BE%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">6.2.</span> <span class="toc-text">è¯¾å ‚ç»ƒä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">6.3.</span> <span class="toc-text">å­æŸ¥è¯¢çš„åˆ†ç±»</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#exists%E5%92%8Cnot-exists%E7%94%A8%E6%B3%95"><span class="toc-number">7.</span> <span class="toc-text">existså’Œnot existsç”¨æ³•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B1%82%E5%87%BA%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%9A%84%E5%B9%B6%E9%9B%86-%E5%B7%AE%E9%9B%86-%E4%BA%A4%E9%9B%86"><span class="toc-number">8.</span> <span class="toc-text">æ±‚å‡ºæŸ¥è¯¢ç»“æœçš„å¹¶é›†,å·®é›†,äº¤é›†.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DDL"><span class="toc-number">9.</span> <span class="toc-text">DDL</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">10.</span> <span class="toc-text">æ•°æ®åº“çš„è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">10.1.</span> <span class="toc-text">è¡¨ä¹‹é—´çš„å…³ç³»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="toc-number">10.2.</span> <span class="toc-text">ä¸‰å¤§èŒƒå¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">11.</span> <span class="toc-text">åˆ›å»ºè¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-1"><span class="toc-number">11.0.1.</span> <span class="toc-text">ç»ƒä¹ </span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F"><span class="toc-number">12.</span> <span class="toc-text">çº¦æŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F"><span class="toc-number">12.1.</span> <span class="toc-text">åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E7%BA%A7%E8%AF%AD%E6%B3%95%E6%B7%BB%E5%8A%A0"><span class="toc-number">12.1.1.</span> <span class="toc-text">åˆ—çº§è¯­æ³•æ·»åŠ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%BA%A7%E8%AF%AD%E6%B3%95%E6%B7%BB%E5%8A%A0"><span class="toc-number">12.1.2.</span> <span class="toc-text">è¡¨çº§è¯­æ³•æ·»åŠ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8-%E7%B3%BB%E7%BB%9F%E8%A1%A8"><span class="toc-number">12.1.3.</span> <span class="toc-text">æ•°æ®å­—å…¸ - ç³»ç»Ÿè¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#default"><span class="toc-number">12.1.4.</span> <span class="toc-text">default</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F-%E7%BB%86%E8%8A%82"><span class="toc-number">12.1.5.</span> <span class="toc-text">å¤–é”®çº¦æŸ - ç»†èŠ‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE"><span class="toc-number">12.1.6.</span> <span class="toc-text">è”åˆä¸»é”®</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">13.</span> <span class="toc-text">åˆ é™¤è¡¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DML%E8%AF%AD%E5%8F%A5"><span class="toc-number">14.</span> <span class="toc-text">DMLè¯­å¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#insert%E8%AF%AD%E5%8F%A5"><span class="toc-number">14.1.</span> <span class="toc-text">insertè¯­å¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E4%B8%80%E5%BC%A0%E8%A1%A8%E6%9D%A5%E6%9E%84%E5%BB%BA%E5%8F%A6%E5%A4%96%E4%B8%80%E5%BC%A0%E8%A1%A8"><span class="toc-number">14.1.1.</span> <span class="toc-text">åˆ©ç”¨ä¸€å¼ è¡¨æ¥æ„å»ºå¦å¤–ä¸€å¼ è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%A2%9E%E5%AD%97%E6%AE%B5auto-increment"><span class="toc-number">14.1.2.</span> <span class="toc-text">åˆ›å»ºè‡ªå¢å­—æ®µauto_increment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96auto-increment%E5%80%BC"><span class="toc-number">14.1.3.</span> <span class="toc-text">è·å–auto_incrementå€¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#update%E8%AF%AD%E5%8F%A5"><span class="toc-number">14.2.</span> <span class="toc-text">updateè¯­å¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#delete%E8%AF%AD%E5%8F%A5"><span class="toc-number">14.3.</span> <span class="toc-text">deleteè¯­å¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A7%E8%81%94%E5%88%A0%E9%99%A4"><span class="toc-number">14.3.1.</span> <span class="toc-text">çº§è”åˆ é™¤</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1-DTL"><span class="toc-number">15.</span> <span class="toc-text">äº‹åŠ¡(DTL)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">15.1.</span> <span class="toc-text">äº‹åŠ¡æ§åˆ¶è¯­å¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MYSQL-%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E4%B8%BB%E8%A6%81%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">15.2.</span> <span class="toc-text">MYSQL äº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%91%BD%E4%BB%A4%E7%9A%84%E6%BC%94%E7%A4%BADTL"><span class="toc-number">15.3.</span> <span class="toc-text">äº‹åŠ¡çš„å‘½ä»¤çš„æ¼”ç¤ºDTL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E4%BA%8B%E5%8A%A1"><span class="toc-number">15.3.1.</span> <span class="toc-text">ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨äº‹åŠ¡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%B9%B6%E5%8F%91%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="toc-number">15.4.</span> <span class="toc-text">å¤šäº‹åŠ¡çš„å¹¶å‘å¤„ç†æœºåˆ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">15.5.</span> <span class="toc-text">äº‹åŠ¡éš”ç¦»çº§åˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E7%9A%84%E6%BC%94%E7%A4%BA"><span class="toc-number">15.6.</span> <span class="toc-text">éš”ç¦»çº§åˆ«çš„æ¼”ç¤º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%A4%BA"><span class="toc-number">15.7.</span> <span class="toc-text">å›¾ç¤º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">15.8.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%86%E5%9B%BEView"><span class="toc-number">16.</span> <span class="toc-text">è§†å›¾View</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="toc-number">16.1.</span> <span class="toc-text">åˆ›å»ºè§†å›¾çš„è¯­æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#with-check-option"><span class="toc-number">16.2.</span> <span class="toc-text">with check option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E8%A7%86%E5%9B%BE"><span class="toc-number">16.3.</span> <span class="toc-text">å¤æ‚è§†å›¾</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#limit%E8%AF%AD%E5%8F%A5"><span class="toc-number">17.</span> <span class="toc-text">limitè¯­å¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#limit%E8%AF%AD%E5%8F%A5%E7%9A%84%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"><span class="toc-number">17.1.</span> <span class="toc-text">limitè¯­å¥çš„æ€§èƒ½é—®é¢˜.</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E9%A2%98"><span class="toc-number">18.</span> <span class="toc-text">ç»å…¸é¢˜</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">19.</span> <span class="toc-text">mysqlå•è¡Œå‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">19.1.</span> <span class="toc-text">å­—ç¬¦ä¸²å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">19.1.1.</span> <span class="toc-text">ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-2"><span class="toc-number">19.1.2.</span> <span class="toc-text">ç»ƒä¹ </span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0"><span class="toc-number">20.</span> <span class="toc-text">æ•°å­—å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-3"><span class="toc-number">20.0.1.</span> <span class="toc-text">ç»ƒä¹ </span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">21.</span> <span class="toc-text">æ—¥æœŸå‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0%E8%A1%A5%E5%85%85"><span class="toc-number">21.1.</span> <span class="toc-text">æ—¥æœŸå‡½æ•°è¡¥å……</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">21.1.1.</span> <span class="toc-text">æ—¥æœŸæ ¼å¼åŒ–</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="toc-number">22.</span> <span class="toc-text">è½¬æ¢å‡½æ•°</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%BB%83%E4%B9%A0"><span class="toc-number">23.</span> <span class="toc-text">å‡½æ•°ç»ƒä¹ </span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://ZR-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="ZR"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ZRçš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">43-MySQLè¯­æ³•</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-12-12 20:16:01" itemprop="dateCreated datePublished" datetime="2021-12-12T20:16:01+08:00">2021-12-12</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-03-14 21:27:47" itemprop="dateModified" datetime="2022-03-14T21:27:47+08:00">2022-03-14</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">15.5k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">68m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/DataBase/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">DataBase</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/MySQL/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">MySQL</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="SQLè¯­è¨€çš„åˆ†ç±»"><a href="#SQLè¯­è¨€çš„åˆ†ç±»" class="headerlink" title="SQLè¯­è¨€çš„åˆ†ç±»"></a>SQLè¯­è¨€çš„åˆ†ç±»</h1><blockquote>
<ol>
<li><p>æ•°æ®æŸ¥è¯¢è¯­è¨€<strong>DQL</strong>.(Data Query Language)</p>
<p>æ•°æ®æŸ¥è¯¢è¯­è¨€DQLåŸºæœ¬ç»“æ„æ˜¯ç”±SELECTå­å¥ï¼ŒFROMå­å¥ï¼ŒWHEREå­å¥ç»„æˆçš„æŸ¥è¯¢å—ï¼šSELECT &lt;å­—æ®µåè¡¨&gt;FROM &lt;è¡¨æˆ–è§†å›¾å&gt;WHERE &lt;æŸ¥è¯¢æ¡ä»¶&gt;</p>
</li>
<li><p>æ•°æ®æ“çºµè¯­è¨€<strong>DML</strong>.(Data Manipulation Language)</p>
<p>æ•°æ®æ“çºµè¯­è¨€DMLä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼š</p>
<ul>
<li>æ’å…¥ï¼šINSERT</li>
<li>æ›´æ–°ï¼šUPDATE</li>
<li>åˆ é™¤ï¼šDELETE</li>
</ul>
</li>
<li><p>æ•°æ®å®šä¹‰è¯­è¨€<strong>DDL</strong>.(Data Definition Language)</p>
<p>æ•°æ®å®šä¹‰è¯­è¨€DDLç”¨æ¥åˆ›å»ºæ•°æ®åº“ä¸­çš„å„ç§å¯¹è±¡â€”â€“è¡¨ã€è§†å›¾ã€ç´¢å¼•ã€åŒä¹‰è¯ã€èšç°‡ç­‰å¦‚ï¼šCREATE TABLE / VIEW / INDEX / SYN / CLUSTER| è¡¨ è§†å›¾ ç´¢å¼• åŒä¹‰è¯ ç°‡ã€‚DDLæ“ä½œæ˜¯<font color="red">éšæ€§æäº¤</font>çš„ï¼ä¸èƒ½rollback</p>
</li>
<li><p>æ•°æ®æ§åˆ¶è¯­è¨€<strong>DCL</strong>.(Data Control Language) äº†è§£</p>
</li>
</ol>
</blockquote>
<ul>
<li><p>æŸ¥çœ‹æ•°æ®åº“ç¼–ç </p>
<pre class="language-msyql" data-language="msyql"><code class="language-msyql">mysql&gt; show variables like &#39;character_set%&#39;;</code></pre></li>
<li><p>æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;show databases;</code></pre></li>
<li><p>åˆ é™¤æ•°æ®åº“</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; drop database æ•°æ®åº“å;</code></pre></li>
<li><p><strong>ä½¿ç”¨æ•°æ®åº“ - åƒä¸‡ä¸è¦å¿˜è®°</strong></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;use æ•°æ®å</code></pre></li>
<li><p>æŸ¥çœ‹æŸä¸ªä»“åº“ä¸‹çš„æ‰€æœ‰çš„è¡¨</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;show tables;</code></pre></li>
<li><p>æŸ¥çœ‹æŸå¼ è¡¨çš„è¡¨ç»“æ„</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;desc è¡¨å;</code></pre></li>
</ul>
<h1 id="æŸ¥è¯¢å‘½ä»¤"><a href="#æŸ¥è¯¢å‘½ä»¤" class="headerlink" title="æŸ¥è¯¢å‘½ä»¤"></a>æŸ¥è¯¢å‘½ä»¤</h1><h2 id="ç®€å•æŸ¥è¯¢"><a href="#ç®€å•æŸ¥è¯¢" class="headerlink" title="ç®€å•æŸ¥è¯¢"></a>ç®€å•æŸ¥è¯¢</h2><p>ç®€ä»‹:sqlçš„å‘½ä»¤æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼Œåœ¨å…¬å¸ä¸­æ¨èä½¿ç”¨å¤§å†™ã€‚</p>
<p>æŸ¥è¯¢çš„æœ¬è´¨:</p>
<ul>
<li>åˆ°å“ªé‡ŒæŸ¥[ç¡®å®šå“ªå¼ è¡¨]</li>
<li>æŸ¥ä»€ä¹ˆ[æŸ¥çš„åˆ—]</li>
</ul>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">select åˆ—å1,åˆ—å2[,åˆ—N] from è¡¨å;</code></pre>

<h3 id="ç®€å•æŸ¥è¯¢ç»ƒä¹ "><a href="#ç®€å•æŸ¥è¯¢ç»ƒä¹ " class="headerlink" title="ç®€å•æŸ¥è¯¢ç»ƒä¹ "></a>ç®€å•æŸ¥è¯¢ç»ƒä¹ </h3><pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æ‰¾å‡ºå‘˜å·¥çš„æ‰€æœ‰çš„ä¿¡æ¯;*ä»£æ›¿æ‰€æœ‰çš„åˆ—(ä¼ä¸šä¸­ä¸å…è®¸)
mysql&gt; select * from s_emp;

mysql&gt; select * from s_emp \G;
-- ä»s_empè¡¨ä¸­æŸ¥è¯¢å‡ºå‘˜å·¥çš„åå­—,è–ªæ°´,èŒä½;
mysql&gt; select first_name,salary,title from s_emp;

-- ä»s_empè¡¨ä¸­æŸ¥å‡ºå‘˜å·¥çš„å§“æ°,åå­—;
mysql&gt;select last_name,first_name from s_emp;

-- æ‰¾å‡ºæœ¬å…¬å¸çš„æ‰€æœ‰çš„èŒç§°(title);
mysql&gt; select title from s_emp;

-- è¡¥å…… - titleå‘ç°æœ‰å¤§é‡é‡å¤çš„,æ’é‡å…³é”®å­—distinct
mysql&gt; select distinct title from s_emp;

-- æ‰¾å‡ºæ‰€æœ‰å‘˜å·¥çš„å§“åã€å·¥èµ„ã€å…¥èŒæ—¥æœŸ
mysql&gt;select first_name,salary,start_date from s_emp;

-- æ‰¾å‡ºæ‰€æœ‰çš„å®¢æˆ·ååŠä»–çš„ç”µè¯å·ç 
mysql&gt; select name,phone from s_customer;
-- æ‰¾å‡ºå‘˜å·¥å§“ååŠä»–çš„èŒç§°
mysql&gt;
-- æ‰¾å‡ºæ¯ä¸ªè®¢å•çš„è´¹ç”¨ã€æ”¯ä»˜æ–¹å¼ã€å‡ºè´§æ—¥æœŸ
mysql&gt;select total,payment_type,date_ordered from s_ord;</code></pre>

<p><strong>æç¤º:å¦‚æœä¸çŸ¥é“è¡¨ä¸­çš„åˆ—å,å¯ä»¥å†æ¬¡é€šè¿‡desc è¡¨åæ¥æŸ¥è¯¢è¡¨ç»“æ„è¿›è¡Œçª¥æ¢</strong></p>
<h2 id="åŸºç¡€æŸ¥è¯¢"><a href="#åŸºç¡€æŸ¥è¯¢" class="headerlink" title="åŸºç¡€æŸ¥è¯¢"></a>åŸºç¡€æŸ¥è¯¢</h2><ul>
<li><p>sqlè¯­å¥å…·æœ‰è¿ç®—çš„èƒ½åŠ› - åˆ—æ˜¯å¯ä»¥å‚åŠ è®¡ç®—çš„</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æŸ¥è¯¢å‘˜å·¥çš„åå­—,ä»–çš„å¹´è–ª(ä¸åŒ…å«ææˆ)
mysql&gt;select first_name,salary*12 from s_emp;</code></pre></li>
<li><p>sqlè¯­å¥å…·æœ‰å­—ç¬¦ä¸²æ‹¼æ¥èƒ½åŠ›.</p>
<p><strong>mysql - å­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°concat(paramâ€¦ p);</strong></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select concat(last_name,&#39; &#39;,first_name) from s_emp;</code></pre></li>
<li><p>ç»™åˆ—å–åˆ«å</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- select åˆ—å åˆ—åˆ«å from è¡¨;
mysql&gt;select concat(last_name,&#39; &#39;,first_name) å§“å from s_emp;

-- select åˆ—å &quot;åˆ—åˆ«å&quot; from è¡¨
-- mysql - &quot;&quot;åŒ…è£¹æ ¼å¼ç”¨çš„
mysql&gt;select concat(last_name,&#39; &#39;,first_name) &quot;å§“ å&quot; from s_emp;

-- å˜æ€éœ€æ±‚  å§“ å

mysql&gt; select åˆ—å as åˆ—åˆ«å from è¡¨;
mysql&gt; select åˆ—å as &quot;åˆ—åˆ«å&quot; from è¡¨

mysql&gt;select concat(last_name,&#39; &#39;,first_name) as å§“å from s_emp;</code></pre></li>
<li><p>ç©ºå€¼ç½®æ¢å‡½æ•°<strong>coalesce(m,n)ç›¸å½“äºm==null?n:m</strong></p>
<p>nullå€¼å‚ä¸è®¡ç®—çš„ç»“æœè¿˜æ˜¯nullå€¼</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æŸ¥è¯¢å‘˜å·¥åå­—ä»¥åŠå¹´è–ª[åŒ…å«ææˆ]
mysql&gt;select first_name,salary*12*(1+commission_pct&#x2F;100) å¹´è–ª from s_emp;

mysql&gt;select first_name,salary*12*(1+coalesce(commission_pct,0)&#x2F;100) å¹´è–ª from s_emp;</code></pre></li>
</ul>
<h2 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h2><p>å¸¦æ¡ä»¶è¿›è¡Œç­›é€‰æŸ¥è¯¢.</p>
<p>è¯­æ³•:</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">select åˆ—[,Nåˆ—] from table_name
where æ¡ä»¶è¡¨è¾¾å¼[å¦‚æœæˆç«‹,åˆ™èƒ½å¤Ÿé¡ºåˆ©æŸ¥è¯¢æ•°æ®];

è¡¨è¾¾å¼ - ç”±å˜é‡æˆ–è€…å­—é¢é‡[ç›´æ¥é‡]ä»¥åŠè¿ç®—ç¬¦ç»„æˆçš„åˆæ³•çš„è¯­å¥
</code></pre>

<ul>
<li><p>æ¯”è¾ƒè¿ç®—ç¬¦</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">=</span> <span class="token operator">!=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span> <span class="token operator">></span> <span class="token generics"><span class="token punctuation">&lt;</span> <span class="token punctuation">></span></span><span class="token operator">=</span> <span class="token operator">&lt;=</span> </code></pre></li>
<li><p>å…¶ä»–è¿ç®—ç¬¦</p>
<pre class="language-java" data-language="java"><code class="language-java">ä¸å»ºè®®ä½¿ç”¨ <span class="token operator">-</span> åœ¨æŸäº›æƒ…å†µä¸‹å®¹æ˜“å¯¼è‡´ç´¢å¼•å¤±æ•ˆ<span class="token punctuation">.</span>
<span class="token function">in</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> åœ¨<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>èŒƒå›´ä¹‹å†…
not in
  
is <span class="token keyword">null</span> æ˜¯å¦ä¸ºç©º
is not <span class="token keyword">null</span> 
  
between <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> and <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> åœ¨<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>åˆ°<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>èŒƒå›´<span class="token punctuation">,</span> é—­åŒºé—´</code></pre></li>
<li><p>é€»è¾‘è¿ç®—ç¬¦</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">ä½œç”¨:æ˜¯ç”¨æ¥è¿æ¥æ¡ä»¶è¡¨è¾¾å¼çš„
and
 æ¡ä»¶è¡¨è¾¾å¼1 and æ¡ä»¶è¡¨è¾¾å¼2 and ...
 å½“ä¸”ä»…å½“æ‰€æœ‰æ¡ä»¶è¡¨è¾¾å¼éƒ½æ˜¯true,ç»“æœæ‰æ˜¯true
or
 åªè¦å‡ºç°ä¸€ä¸ªtrue,ç»“æœå°±æ˜¯true
 
æ¡ä»¶æ‰§è¡Œçš„é¡ºåºçš„é—®é¢˜
mysqlä¸­æ¡ä»¶è¡¨è¾¾å¼æ˜¯ä»å·¦åˆ°å³çš„æ‰§è¡Œé¡ºåº
oracleä¸­æ¡ä»¶è¡¨è¾¾å¼ä»å³åˆ°å·¦çš„æ‰§è¡Œé¡ºåº.</code></pre></li>
</ul>
<h2 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h2><p>ä¸æ¨èä½¿ç”¨çš„ - å®¹æ˜“å¯¼è‡´ç´¢å¼•å¤±æ•ˆ.</p>
<p>ä½¿ç”¨likeå…³é”®å­—,å ä½ç¬¦</p>
<ul>
<li>% - ä»»æ„å¤šä¸ªä»»æ„å­—ç¬¦</li>
<li>_ ä»»æ„å•ä¸ªå­—ç¬¦</li>
</ul>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æ¯”å¦‚æŸ¥è¯¢first_nameä¸­åŒ…å«cçš„å‘˜å·¥.
mysql&gt;select first_name from s_emp where first_name like &#39;%c%&#39;;


-- æŸ¥è¯¢ç¬¬ä¸‰ä¸ªå­—æ¯æ˜¯a
mysql&gt; select first_name from s_emp where first_name like &#39;__a%&#39;;
</code></pre>

<p>mysqlä¸­ä¹Ÿæ˜¯æ”¯æŒè½¬ä¹‰å­—ç¬¦ - é»˜è®¤çš„è½¬ä¹‰å­—ç¬¦\</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; update s_emp set first_name&#x3D;&#39;Car%men&#39; where id&#x3D;1;

mysql&gt;select first_name from s_emp where first_name like &#39;%\%%&#39;;</code></pre>

<p>é€šè¿‡escapeå…³é”®å­—æ¥å®šä¹‰æŒ‡å®šçš„è½¬ä¹‰å­—ç¬¦</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select first_name from s_emp where first_name like &#39;%?%%&#39; escape &#39;?&#39;;</code></pre>



<p>æ¡ä»¶æŸ¥è¯¢å’Œæ¨¡ç³ŠæŸ¥è¯¢ç»ƒä¹ </p>
<ol>
<li><p>æŸ¥å‡ºåœ¨41éƒ¨é—¨çš„å‘˜å·¥åå­—,å·¥èµ„</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> first_name<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>dept_id <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> dept_id<span class="token operator">=</span><span class="token number">41</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æŸ¥å‡ºå·¥èµ„é«˜äº1500çš„å‘˜å·¥çš„ä¿¡æ¯</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> first_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> salary<span class="token operator">></span><span class="token number">1500</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æ‰¾å‡ºå·¥èµ„å¤§äº1200å…ƒçš„å‘˜å·¥å…¨åã€å·¥èµ„ã€èŒç§°</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> concat<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token string">' '</span><span class="token punctuation">,</span>first_name<span class="token punctuation">)</span> å§“å<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>title <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> salary<span class="token operator">></span><span class="token number">1200</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æŸ¥å‡ºåœ¨41,42,50éƒ¨é—¨çš„å‘˜å·¥å,è–ªæ°´</p>
</li>
</ol>
  <pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select first_name,salary,dept_id from s_emp where dept_id in(41,42,50);

mysql&gt;select first_name,salary,dept_id from s_emp where dept_id&#x3D;41 or dept_id&#x3D;42 or dept_id&#x3D;50;</code></pre>

<ol start="5">
<li><p>æ‰¾å‡ºå·¥èµ„åœ¨1200åˆ°1500ä¹‹é—´çš„å‘˜å·¥å</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> first_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> salary<span class="token operator">>=</span><span class="token number">1200</span> <span class="token operator">and</span> salary<span class="token operator">&lt;=</span><span class="token number">1500</span><span class="token punctuation">;</span>

mysql<span class="token operator">></span><span class="token keyword">select</span> first_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> salary <span class="token operator">between</span> <span class="token number">1200</span> <span class="token operator">and</span> <span class="token number">1500</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æ‰¾å‡ºå·¥èµ„å¤§äº1500å¹¶ä¸”æ²¡æœ‰ææˆçš„å‘˜å·¥</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> first_name<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> salary<span class="token operator">></span><span class="token number">1500</span>
<span class="token operator">and</span> commission_pct <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>æŸ¥å‡ºåå­—æ˜¯ä»¥Mæ‰“å¤´çš„å‘˜å·¥</strong></p>
<p>%ç±»ä¼¼é‡è¯*(é›¶æ¬¡æˆ–è€…å¤šæ¬¡)</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> first_name <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> first_name <span class="token operator">like</span> <span class="token string">'M%'</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>æŸ¥å‡ºå§“åä¸­ç¬¬ä¸‰ä¸ªå­—æ¯æ˜¯eçš„å‘˜å·¥</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql">   </code></pre></li>
<li><p>æ‰¾å‡ºæ²¡æœ‰ææˆç‡çš„å‘˜å·¥</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> first_name<span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> salary<span class="token operator">></span><span class="token number">1500</span>
<span class="token operator">and</span> commission_pct <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æ‰¾å‡ºè´¹ç”¨è¶…è¿‡10000å…ƒçš„è®¢å•ç¼–å·åŠæ”¯ä»˜æ–¹å¼</p>
</li>
</ol>
   <pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>total<span class="token punctuation">,</span>payment_type <span class="token keyword">from</span> s_ord <span class="token keyword">where</span> total<span class="token operator">></span><span class="token number">10000</span><span class="token punctuation">;</span></code></pre>

<ol start="11">
<li><p>æ‰¾å‡ºå·¥èµ„åœ¨950(å«)è‡³1200(å«)å…ƒçš„å‘˜å·¥å§“åã€èŒç§°</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span></code></pre></li>
<li><p><strong>æ‰¾å‡ºåå­—first_nameä¸­å«æœ‰å­—æ¯açš„å‘˜å·¥</strong></p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span></code></pre></li>
</ol>
<h2 id="æ’åºè¯­å¥"><a href="#æ’åºè¯­å¥" class="headerlink" title="æ’åºè¯­å¥"></a>æ’åºè¯­å¥</h2><p>æ•°æ®é‡å¤§çš„æ—¶å€™,order byè¯­å¥æ˜¯ç¦æ­¢ä½¿ç”¨,æ€§èƒ½å¾ˆä½å¾ˆä½.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">select åˆ— from table_name
[where æ¡ä»¶æŸ¥è¯¢]
[order by æ’åºåˆ—] [asc|desc]

asc - å‡åº,å¯ä»¥çœç•¥ä¸å†™çš„.
desc - é™åº</code></pre>

<ol>
<li><p>æŸ¥è¯¢å‡ºèŒç§°æ˜¯Stock Clerkçš„åå­—ã€å·¥èµ„ï¼Œå¹¶æŒ‰å·¥èµ„é™åºæ’åº</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- â‘ order by ç›´æ¥è·ŸæŸ¥è¯¢å‡ºæ¥çš„åˆ—çš„åç§°</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> first_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> title <span class="token operator">=</span> <span class="token string">'Stock Clerk'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">;</span></code></pre></li>
<li><p>æŸ¥è¯¢å‡ºå¹´è–ªä½äº25000çš„å‘˜å·¥å,èŒç§°,å¹¶æŒ‰å¹´è–ªå‡åºæ’åº,å¦‚æœå¹´è–ªä¸€æ ·,ç»§ç»­æ ¹æ®first_nameé™åºæ’.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select first_name,title,salary*12 from s_emp where salary*12&lt;25000 order by salary*12;

--  â‘¡order by + åˆ—åˆ«å
mysql&gt; select first_name,title,salary*12 _sal from s_emp where salary*12&lt;25000 order by _sal;

-- â‘¢order by + æŸ¥è¯¢åˆ—åºå·[ä»1å¼€å§‹] - æ€§èƒ½æ¯”ä¸Šé¢çš„è¦é«˜
mysql&gt;select first_name,title,salary*12 _sal from s_emp where salary*12&lt;25000 order by 3;

-- æœ€ç»ˆçš„è§£é¢˜ - å¤šä¸ªåˆ—å‚ä¸æ’åº
mysql&gt;select first_name,title,salary*12 _sal from s_emp where salary*12&lt;25000 order by 3,1 desc;</code></pre></li>
</ol>
<h1 id="å…³è”æŸ¥è¯¢"><a href="#å…³è”æŸ¥è¯¢" class="headerlink" title="å…³è”æŸ¥è¯¢"></a>å…³è”æŸ¥è¯¢</h1><p>ç®€ä»‹:å¤šè¡¨æŸ¥è¯¢ - å¼€å‘çš„è¶‹åŠ¿æ˜¯å•è¡¨æŸ¥è¯¢.</p>
<p>ç¬¬ä¸€æ­¥:ç¡®å®šè¡¨å’Œè¡¨ä¹‹é—´æ˜¯å¦å­˜åœ¨ç›´æ¥æˆ–è€…é—´æ¥çš„å…³ç³».è¡¨ä¹‹é—´çš„å…³ç³»å°±æ˜¯é€šè¿‡<em><strong>å¤–é”®</strong></em>æ¥ç¡®å®šçš„.</p>
<ul>
<li><p><strong>æŸ¥è¯¢å‘˜å·¥çš„first_name,éƒ¨é—¨çš„åå­—</strong></p>
<ul>
<li><p>é”™è¯¯âŒçš„å†™æ³• - ç¬›å¡å°”ç§¯ - ä¸¤ä¸ªè¡¨ä¸­çš„è¡Œè®°å½•â€ç›¸ä¹˜äº†â€.</p>
<p>æ•°æ®çš„å†—ä½™,å¹¶ä¸”é”™è¯¯çš„æ•°æ®.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select first_name,name from s_emp,s_dept;</code></pre></li>
<li><p>ä¼ ç»Ÿçš„å†™æ³•</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> first_name<span class="token punctuation">,</span>name <span class="token keyword">from</span> s_emp<span class="token punctuation">,</span>s_dept <span class="token keyword">where</span> dept_id<span class="token operator">=</span>id<span class="token punctuation">;</span>
idæ˜¯æœªæ˜ç¡®çš„åˆ— <span class="token operator">-</span> å› æ­¤éœ€è¦ç»™åˆ—å–åˆ«åæˆ–è€…ç»™è¡¨å–åˆ«å<span class="token punctuation">.</span>


mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> s_emp e<span class="token punctuation">,</span>s_dept d 
       <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span></code></pre></li>
<li><p>å…³è”æŸ¥è¯¢ä½¿ç”¨<em><strong>join .. on</strong></em>(ä¸€å®šæ˜¯ä¸€èµ·ä½¿ç”¨çš„)</p>
<p>è¡¨ join è¡¨ onçš„ç›®çš„ä¸æ˜¯è¿›è¡Œæ¡ä»¶ç­›é€‰,å°±æ˜¯ç”¨æ¥å»é™¤ç¬›å¡å°”ç§¯çš„-é€šè¿‡å¤–é”®</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- èƒ½å¤Ÿä½¿ç”¨ è¡¨A join è¡¨B on å¤šçš„ä¸€æ–¹çš„å¤–é”®åˆ— = ä¸€çš„ä¸€æ–¹çš„ä¸»é”®åˆ—.</span>
<span class="token comment">-- æ³¨æ„æ˜¯è¡¨Aå’Œè¡¨Bä¸€å®šæ˜¯å­˜åœ¨ç›´æ¥çš„å…³ç³»çš„.</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> s_emp e
       <span class="token keyword">join</span> s_dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span></code></pre></li>
<li><p>å¯¹æ¯”ä¼ ç»Ÿå†™æ³•å’Œå…³è”å†™æ³•çš„åŒºåˆ«</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æŸ¥è¯¢å‡ºå‘˜å·¥first_nameä»¥åŠè¿™ä¸ªå‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨çš„name,ä»¥åŠè¿™ä¸ªå‘˜å·¥æ‰€åœ¨çš„åŒºåŸŸçš„åå­—.
-- s_emp s_dept s_region
-- ä¸€ä¸ªéƒ¨é—¨æ‹¥æœ‰å¤šä¸ªå‘˜å·¥
-- ä¸€ä¸ªåŒºåŸŸæ‹¥æœ‰å¤šä¸ªéƒ¨é—¨
mysql&gt;select e.first_name,d.name éƒ¨é—¨,r.name åŒºåŸŸ from s_emp e
      join s_dept d on e.dept_id &#x3D; d.id
      join s_region r on d.region_id &#x3D; r.id;</code></pre></li>
</ul>
</li>
</ul>
<h2 id="å…³è”æŸ¥è¯¢ç»ƒä¹ -å†…è”æŸ¥è¯¢"><a href="#å…³è”æŸ¥è¯¢ç»ƒä¹ -å†…è”æŸ¥è¯¢" class="headerlink" title="å…³è”æŸ¥è¯¢ç»ƒä¹  - å†…è”æŸ¥è¯¢"></a>å…³è”æŸ¥è¯¢ç»ƒä¹  - å†…è”æŸ¥è¯¢</h2><p>**onå¹¶ä¸æ˜¯ç”¨æ¥æ›¿ä»£where,**ä¸Šé¢çš„é¢˜ä¸­å¢åŠ ä¸€ä¸ªä¸šåŠ¡.æ‰¾å‡ºåŒºåŸŸâ€™Asiaâ€™ä¸Šçš„æ‰€æœ‰çš„å‘˜å·¥çš„åå­—,éƒ¨é—¨åå­—,åŒºåŸŸåå­—.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select e.first_name,d.name éƒ¨é—¨,r.name åŒºåŸŸ from s_emp e
      join s_dept d on e.dept_id &#x3D; d.id
      join s_region r on d.region_id &#x3D; r.id where r.name&#x3D;&#39;Asia&#39;;</code></pre>

<p>æ‰¾å‡ºéƒ¨é—¨æ˜¯31çš„éƒ¨é—¨çš„åç§°,ä»¥åŠè¯¥éƒ¨é—¨çš„æ‰€æœ‰çš„å‘˜å·¥çš„åå­—å’Œå·¥èµ„</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select e.first_name,e.salary,e.dept_id from s_emp e join s_dept d
       on e.dept_id &#x3D; d.id where d.id &#x3D; 31;</code></pre>

<p>æ‰¾å‡ºæ¬§æ´²åŒºåŸŸä¸Šæ‰€æœ‰çš„å‘˜å·¥çš„åå­—,åŒºåŸŸåç§°.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select e.first_name,r.name åŒºåŸŸ from s_emp e
      join s_dept d on e.dept_id &#x3D; d.id
      join s_region r on d.region_id &#x3D; r.id where r.name&#x3D;&#39;Europe&#39;;</code></pre>

<p>æŸ¥è¯¢æ‰€æœ‰å®¢æˆ·çš„id,åç§°ä»¥åŠè¯¥å®¢æˆ·æ‹¥æœ‰çš„è®¢å•çš„æ‰€æœ‰çš„ä¿¡æ¯</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select c.id,c.name,o.* from s_customer c join s_ord o
       on c.id &#x3D; o.customer_id;
       
ç»“æœ:å¦‚æœè¿™ä¸ªå®¢æˆ·æ²¡æœ‰è®¢å•,å°†ä¸ä¼šè¢«åŠ è½½å‡ºæ¥.</code></pre>

<h2 id="å…³è”æŸ¥è¯¢-è¿æ¥çš„æ–¹å¼"><a href="#å…³è”æŸ¥è¯¢-è¿æ¥çš„æ–¹å¼" class="headerlink" title="å…³è”æŸ¥è¯¢-è¿æ¥çš„æ–¹å¼"></a>å…³è”æŸ¥è¯¢-è¿æ¥çš„æ–¹å¼</h2><ul>
<li><p><strong>å†…è”æ–¹å¼</strong> - [inner] join</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- å¦‚æœè¿™ä¸ªå®¢æˆ·æ²¡æœ‰è®¢å•ä¿¡æ¯,é‚£ä¹ˆè¿™ä¸ªå®¢æˆ·å°†ä¸ä¼šè¢«æŸ¥è¯¢å‡ºæ¥.
-- å¦‚æœä¸€çš„ä¸€æ–¹çš„æ•°æ®åœ¨å¤šçš„ä¸€æ–¹ä¸­æ²¡æœ‰ä½“ç°,é‚£ä¹ˆä¸ä¼šè¢«æŸ¥è¯¢å‡ºæ¥.
mysql&gt; select c.id,c.name,o.* from s_customer c join s_ord o
on c.id &#x3D; o.customer_id;</code></pre></li>
</ul>
<p> <img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%86%85%E8%81%94.jpg" loading="lazy"></p>
<ul>
<li><p><em><strong>å·¦å¤–è” - å·¦è¿æ¥</strong></em> - left join</p>
<p>ä»¥joinå·¦è¾¹çš„è¡¨ä¸ºåŸºå‡†.åœ¨æŸ¥è¯¢çš„æ—¶å€™,å³ä½¿å³è¾¹çš„è¡¨ä¸­æ²¡æœ‰ä¸ä¹‹å¯¹åº”çš„è®°å½•çš„æ—¶å€™.å·¦è¾¹çš„è¿™å¼ è¡¨ä¸­çš„è®°å½•ä»ç„¶ä¹Ÿä¼šè¢«æŸ¥è¯¢å‡ºæ¥.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select c.id,c.name,o.* from s_customer c left join s_ord o
on c.id &#x3D; o.customer_id;</code></pre>



<p><img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5.jpg" loading="lazy"></p>
</li>
<li><p>å³è¿æ¥ - right join</p>
<p>ä»¥joinå³è¾¹çš„è¡¨ä¸ºåŸºå‡†,å¦‚æœå·¦è¾¹çš„è¡¨ä¸­æ²¡æœ‰ä¸ä¹‹å¯¹åº”çš„è®°å½•çš„æ—¶å€™,ä¹Ÿè¦æŠŠå³è¾¹çš„è¡¨ä¸­çš„è®°å½•æŸ¥è¯¢å‡ºæ¥.</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span>c<span class="token punctuation">.</span>name<span class="token punctuation">,</span>o<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> s_ord o <span class="token keyword">right</span> <span class="token keyword">join</span> s_customer c
<span class="token keyword">on</span> c<span class="token punctuation">.</span>id <span class="token operator">=</span> o<span class="token punctuation">.</span>customer_id<span class="token punctuation">;</span></code></pre>

<p><img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5.jpg" loading="lazy"></p>
</li>
</ul>
<ul>
<li><p>å…¨è¿æ¥</p>
<p>A <em><strong>full outer</strong></em> join B</p>
<p><strong><a href>mysqlä¸­ä¸æ”¯æŒè¿™ä¸ªè¯­æ³•</a></strong></p>
<p><img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5.jpg" loading="lazy"></p>
</li>
</ul>
<h1 id="å¤šè¡Œå‡½æ•°"><a href="#å¤šè¡Œå‡½æ•°" class="headerlink" title="å¤šè¡Œå‡½æ•°"></a>å¤šè¡Œå‡½æ•°</h1><p>ç®€ä»‹:<em><strong>å¤šè¡Œå‡½æ•° - ç»„å‡½æ•°.</strong></em></p>
<ul>
<li><p>count(n)</p>
<p>nå¯ä»¥ä¸º*,å¯ä»¥ä¸ºå…·ä½“çš„æŸåˆ—.ç»Ÿè®¡è¡Œæ•°çš„,é‡å¤çš„æ•°æ®ä¹Ÿç®—1ä¸ª.</p>
<p>æ³¨æ„:å¦‚æœç¢°åˆ°nullå€¼åˆ—,é‚£ä¹ˆç›´æ¥è·³è¿‡äº†,ä¸è®¡æ•°.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- ç»Ÿè®¡å‘˜å·¥çš„ä¸ªæ•°
mysql&gt; select count(*) from s_emp;

-- ç»Ÿè®¡å…·ä½“çš„æŸä¸ªéç©ºåˆ—
mysql&gt; select count(e.id) from s_emp e;

-- æ³¨æ„:å¦‚æœç¢°åˆ°nullå€¼åˆ—,é‚£ä¹ˆç›´æ¥è·³è¿‡äº†,ä¸è®¡æ•°.
mysql&gt; select count(commission_pct) from s_emp;</code></pre></li>
<li><p>avg(n);</p>
<p>æ±‚å‡ºæŸåˆ—çš„æ‰€æœ‰è¡Œçš„å¹³å‡å€¼.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æ±‚å‡ºæ‰€æœ‰å‘˜å·¥çš„å¹³å‡æœˆè–ª
mysql&gt; select avg(salary) from s_emp;</code></pre></li>
<li><p>max(n),min(n)</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æ±‚å‡ºå‘˜å·¥è¡¨ä¸­å·¥èµ„æœ€é«˜çš„å·¥èµ„å’Œæœ€ä½çš„å·¥èµ„
mysql&gt; select max(salary),min(salary) from s_emp;</code></pre></li>
<li><p>sum(n)</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æ±‚å‡ºå‘˜å·¥è¡¨ä¸­æ‰€æœ‰çš„å‘˜å·¥çš„å·¥èµ„æ€»å’Œ
mysql&gt; select sum(salary) from s_emp;</code></pre>

<p>æ³¨æ„:<em><strong>ä½¿ç”¨sumè¿›è¡Œç»Ÿè®¡çš„æ—¶å€™,å¦‚æœé‡åˆ°nullå€¼,å¿½ç•¥null</strong></em></p>
</li>
</ul>
<h1 id="åˆ†ç»„æŸ¥è¯¢"><a href="#åˆ†ç»„æŸ¥è¯¢" class="headerlink" title="åˆ†ç»„æŸ¥è¯¢"></a>åˆ†ç»„æŸ¥è¯¢</h1><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> åˆ—<span class="token number">1</span><span class="token punctuation">[</span><span class="token punctuation">,</span>åˆ—<span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ç»„å‡½æ•°<span class="token punctuation">(</span>å¤šè¡Œå‡½æ•°<span class="token punctuation">)</span>
<span class="token keyword">where</span> æ¡ä»¶è¯­å¥
<span class="token keyword">group</span> <span class="token keyword">by</span> åˆ—<span class="token number">1</span><span class="token punctuation">[</span><span class="token punctuation">,</span>åˆ—<span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">having</span> ç»„å‡½æ•°çš„åˆ¤æ–­
<span class="token keyword">order</span> <span class="token keyword">by</span> æ’åº</code></pre>

<ul>
<li><p>ç»Ÿè®¡å„ä¸ªéƒ¨é—¨çš„äººæ•°(éƒ¨é—¨çš„idå’Œè¯¥éƒ¨é—¨çš„å‘˜å·¥çš„æ•°é‡)</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> dept_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp <span class="token keyword">group</span> <span class="token keyword">by</span> dept_id<span class="token punctuation">;</span>

<span class="token comment">-- æ³¨æ„ç‚¹:</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp <span class="token keyword">group</span> <span class="token keyword">by</span> dept_id<span class="token punctuation">;</span><span class="token comment">//ok</span>

<span class="token comment">-- error</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> first_name<span class="token punctuation">,</span>dept_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp <span class="token keyword">group</span> <span class="token keyword">by</span> dept_id<span class="token punctuation">;</span>

æ¨èçš„å†™æ³•
<span class="token keyword">select</span> åˆ†ç»„åˆ—<span class="token number">1</span><span class="token punctuation">,</span>åˆ†ç»„åˆ—<span class="token number">2</span><span class="token punctuation">,</span>ç»„å‡½æ•° <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">group</span> <span class="token keyword">by</span> åˆ†ç»„åˆ—<span class="token number">1</span><span class="token punctuation">,</span>åˆ†ç»„åˆ—<span class="token number">2</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> first_name<span class="token punctuation">,</span>dept_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp <span class="token keyword">group</span> <span class="token keyword">by</span> first_name<span class="token punctuation">,</span>dept_id<span class="token punctuation">;</span></code></pre></li>
<li><p>ç»Ÿè®¡å„ä¸ªèŒç§°çš„å‘˜å·¥çš„æ•°é‡</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select title,count(*) from s_emp group by title;</code></pre></li>
<li><p>ç»Ÿè®¡å„ä¸ªåŒºåŸŸçš„idå’ŒåŒºåŸŸçš„éƒ¨é—¨æ•°é‡</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> r<span class="token punctuation">.</span>id<span class="token punctuation">,</span>r<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_dept d <span class="token keyword">join</span> s_region r
       <span class="token keyword">on</span> r<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>region_id <span class="token keyword">group</span> <span class="token keyword">by</span> r<span class="token punctuation">.</span>id<span class="token punctuation">,</span>r<span class="token punctuation">.</span>name<span class="token punctuation">;</span></code></pre></li>
<li><p>ç»Ÿè®¡å„ä¸ªåŒºåŸŸçš„id,åç§°ä»¥åŠè¿™ä¸ªåŒºåŸŸçš„å‘˜å·¥çš„æ•°é‡</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> r<span class="token punctuation">.</span>id<span class="token punctuation">,</span>r<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp e <span class="token keyword">join</span> s_dept d
      <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token keyword">join</span> s_region r <span class="token keyword">on</span> r<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>region_id
      <span class="token keyword">group</span> <span class="token keyword">by</span> r<span class="token punctuation">.</span>id<span class="token punctuation">,</span>r<span class="token punctuation">.</span>name<span class="token punctuation">;</span></code></pre></li>
<li><p>ç»Ÿè®¡å„ä¸ªå®¢æˆ·çš„è®¢å•çš„æ•°é‡,æ²¡æœ‰è®¢å•çš„å®¢æˆ·ä¹Ÿè¦ç»Ÿè®¡</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span>c<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_customer c
       <span class="token keyword">left</span> <span class="token keyword">join</span> s_ord o <span class="token keyword">on</span> o<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token keyword">group</span> <span class="token keyword">by</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span>c<span class="token punctuation">.</span>name<span class="token punctuation">;</span></code></pre></li>
</ul>
<h2 id="having-ç»„å‡½æ•°åˆ¤æ–­"><a href="#having-ç»„å‡½æ•°åˆ¤æ–­" class="headerlink" title="having ç»„å‡½æ•°åˆ¤æ–­"></a>having ç»„å‡½æ•°åˆ¤æ–­</h2><p>ç®€ä»‹:whereå’Œhavingä½¿ç”¨æ—¶å€™çš„åŒºåˆ«</p>
<ol>
<li>whereæ˜¯æ¡ä»¶è¿‡æ»¤,æ˜¯åœ¨åˆ†ç»„ä¹‹å‰çš„è¿‡æ»¤,ä¸èƒ½ä½¿ç”¨ç»„å‡½æ•°.</li>
<li>havingæ˜¯åœ¨åˆ†ç»„ä¹‹åçš„è¿›ä¸€æ­¥è¿‡æ»¤,å…è®¸ä½¿ç”¨ç»„å‡½æ•°çš„.</li>
</ol>
<ul>
<li><p>æŸ¥è¯¢å‡ºå¹³å‡å·¥èµ„è¶…è¿‡1300çš„éƒ¨é—¨çš„åç§°å’Œè¿™ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select d.id,d.name,avg(e.salary) from s_dept d join s_emp e
      on d.id &#x3D; e.dept_id group by d.id,d.name having avg(e.salary)&gt;1300;</code></pre></li>
<li><p>ç»Ÿè®¡æœ¬å…¬å¸çš„èŒç§°çš„æ•°é‡.</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> title<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp<span class="token punctuation">;</span></code></pre></li>
<li><p>ç»Ÿè®¡æ²¡æœ‰è®¢å•çš„å®¢æˆ·ä¿¡æ¯</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span>c<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_customer c
       <span class="token keyword">left</span> <span class="token keyword">join</span> s_ord o <span class="token keyword">on</span> o<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token keyword">group</span> <span class="token keyword">by</span> c<span class="token punctuation">.</span>id<span class="token punctuation">,</span>c<span class="token punctuation">.</span>name
       <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span></code></pre></li>
<li><p>ç»Ÿè®¡äººæ•°è¶…è¿‡3ä¸ªå‘˜å·¥çš„éƒ¨é—¨ç¼–å·å’Œéƒ¨é—¨åç§°</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_dept d <span class="token keyword">join</span> s_emp e
       <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token keyword">group</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">3</span><span class="token punctuation">;</span></code></pre></li>
<li><p>ç»Ÿè®¡é™¤äº†â€™Asiaâ€™ä¹‹å¤–çš„å„ä¸ªåŒºåŸŸçš„id,nameä»¥åŠè¿™ä¸ªåŒºåŸŸçš„äººæ•°(4ä¸ª),å¹¶ä¸”æ ¹æ®r.idé™åºæ’åº</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> r<span class="token punctuation">.</span>id<span class="token punctuation">,</span>r<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp e <span class="token keyword">join</span> s_dept d 
   	   <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token keyword">join</span> s_region r <span class="token keyword">on</span> r<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>region_id
   	   <span class="token keyword">where</span> r<span class="token punctuation">.</span>name<span class="token operator">&lt;></span><span class="token string">'Asia'</span> 
   	   <span class="token keyword">group</span> <span class="token keyword">by</span> r<span class="token punctuation">.</span>id<span class="token punctuation">,</span>r<span class="token punctuation">.</span>name
   	   <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">4</span>
   	   <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">1</span> <span class="token keyword">desc</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æŸ¥è¯¢å‡ºå„å¹´ä»½å…¥èŒçš„å‘˜å·¥æƒ…å†µï¼ˆå¹´ä»½ï¼Œå‘˜å·¥äººæ•°ï¼‰</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select year(start_date),count(*) from s_emp group by year(start_date);</code></pre></li>
<li><p>æŸ¥è¯¢å‡ºæ¯å¹´æ¯æœˆå…¥èŒçš„å‘˜å·¥æƒ…å†µï¼ˆå¹´ä»½æœˆä»½ï¼Œå‘˜å·¥äººæ•°)</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select year(start_date),month(start_date),count(*) from s_emp group by year(start_date),month(start_date);

mysql&gt; select date_format(start_date,&#39;%Y%m&#39;),count(*) from s_emp group by    	date_format(start_date,&#39;%Y%m&#39;);

-- å­æŸ¥è¯¢</code></pre></li>
</ul>
<h1 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h1><p>å®šä¹‰:æŸ¥è¯¢ä¸­åµŒå¥—æŸ¥è¯¢.æ³¨æ„ç‚¹:<em><strong>å­æŸ¥è¯¢ä¸€å®šè¦ä½¿ç”¨()æ‹¬èµ·æ¥.</strong></em></p>
<p>å­æŸ¥è¯¢å¯ä»¥å‡ºç°çš„ä½ç½®:</p>
<ul>
<li><p>ä½œä¸ºå¤–éƒ¨æŸ¥è¯¢çš„æ¡ä»¶</p>
</li>
<li><p><em><strong>ä½œä¸ºå¤–éƒ¨æŸ¥è¯¢çš„åˆ—</strong></em></p>
</li>
<li><p>æŠŠå­æŸ¥è¯¢çš„ç»“æœä½œä¸ºâ€è™šè¡¨â€,ä¸€å®šè¦ç»™â€è™šè¡¨â€å–åˆ«å</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">select d.id,d.name,avg(e.salary) _avg from s_dept d join s_emp e
on d.id &#x3D; e.dept_id group by d.id,d.name

select * from (select d.id,d.name,avg(e.salary) _avg from s_dept d join s_emp e
on d.id &#x3D; e.dept_id group by d.id,d.name) core_ where core_._avg&gt;1300;</code></pre></li>
</ul>
<h2 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h2><ul>
<li><p><em><strong>å­æŸ¥è¯¢ä½œä¸ºå¤–éƒ¨æŸ¥è¯¢çš„æ¡ä»¶.</strong></em></p>
<p>æŸ¥è¯¢å‡ºæ¯”Markå‘˜å·¥å·¥èµ„é«˜çš„å‘˜å·¥çš„åå­—å’Œå·¥èµ„ä¿¡æ¯</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select salary from s_emp where first_name&#x3D;&#39;Mark&#39;;&#x2F;&#x2F;1450</code></pre></li>
<li><p><strong>å­æŸ¥è¯¢å‡ºç°åœ¨å¤–éƒ¨æŸ¥è¯¢çš„selectåˆ—ä¸­</strong></p>
<p>æŸ¥è¯¢å‡ºæ¯”Markå‘˜å·¥å·¥èµ„é«˜çš„å‘˜å·¥çš„åå­—å’Œå·¥èµ„ä¿¡æ¯</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> first_name<span class="token punctuation">,</span>salary <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> salary<span class="token operator">></span><span class="token number">1450</span><span class="token punctuation">;</span></code></pre></li>
<li><p>åˆå¹¶</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æ— å…³å­æŸ¥è¯¢
mysql&gt;select first_name,salary from s_emp where salary&gt;(select salary from s_emp where first_name&#x3D;&#39;Mark&#39;);</code></pre></li>
</ul>
<h2 id="è¯¾å ‚ç»ƒä¹ "><a href="#è¯¾å ‚ç»ƒä¹ " class="headerlink" title="è¯¾å ‚ç»ƒä¹ "></a>è¯¾å ‚ç»ƒä¹ </h2><ul>
<li><p>æ‰¾å‡ºå„ä¸ªéƒ¨é—¨çš„id,nameä»¥åŠè¿™ä¸ªéƒ¨é—¨çš„å‘˜å·¥çš„æ•°é‡</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- 1. å¤–å±‚æŸ¥è¯¢èµ°ä¸€æ¬¡,å†…å±‚æŸ¥è¯¢èµ°å…¨éƒ¨</span>
<span class="token comment">-- ç›¸å…³å­æŸ¥è¯¢</span>
mysql<span class="token operator">></span><span class="token keyword">select</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
			<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp e <span class="token keyword">where</span> d<span class="token punctuation">.</span>id <span class="token operator">=</span> e<span class="token punctuation">.</span>dept_id<span class="token punctuation">)</span> 
		<span class="token keyword">from</span> s_dept d<span class="token punctuation">;</span>
		
<span class="token number">50</span><span class="token punctuation">,</span> Administration  <span class="token number">2</span>

<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp e <span class="token keyword">where</span> <span class="token number">50</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>dept_id

<span class="token operator">+</span><span class="token comment">----+----------------+-----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name           <span class="token operator">|</span> region_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------------+-----------+</span>
<span class="token operator">|</span> <span class="token number">50</span> <span class="token operator">|</span> Administration <span class="token operator">|</span>         <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> Finance        <span class="token operator">|</span>         <span class="token number">1</span> <span class="token operator">|</span>


<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> dept_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">41</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>      <span class="token number">31</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>      <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span>      <span class="token number">41</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span>      <span class="token number">42</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span>      <span class="token number">43</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span>      <span class="token number">44</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span>      <span class="token number">45</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">11</span> <span class="token operator">|</span>      <span class="token number">31</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span>      <span class="token number">32</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">13</span> <span class="token operator">|</span>      <span class="token number">33</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">14</span> <span class="token operator">|</span>      <span class="token number">34</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">15</span> <span class="token operator">|</span>      <span class="token number">35</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">16</span> <span class="token operator">|</span>      <span class="token number">41</span> <span class="token operator">|</span>



</code></pre></li>
<li><p>æ‰¾å‡ºå¹³å‡å·¥èµ„å¤§äºå…¬å¸å¹³å‡å·¥èµ„çš„éƒ¨é—¨ç¼–å·å’Œå¹³å‡å·¥èµ„</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select dept_id,avg(salary) from s_emp group by dept_id
      having avg(salary)&gt;(select avg(salary) from s_emp);</code></pre></li>
<li><p>æ‰¾å‡ºä¸â€™Benâ€™åŒéƒ¨é—¨çš„å‘˜å·¥å’Œéƒ¨é—¨ç¼–å·</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select first_name,dept_id from s_emp where dept_id&#x3D;(select dept_id from s_emp
                                                          where first_name&#x3D;&#39;Ben&#39;) and first_name&lt;&gt;&#39;Ben&#39;;
                                                                                                            </code></pre></li>
<li><p>æŸ¥è¯¢å‡ºå®¢æˆ·å,ç”µè¯å·ç ä»¥åŠè®¢å•æ•°é‡</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select c.id,c.name,c.phone,(select count(o.id) from s_ord o where o.customer_id&#x3D;c.id) from s_customer c;</code></pre></li>
</ul>
<h2 id="å­æŸ¥è¯¢çš„åˆ†ç±»"><a href="#å­æŸ¥è¯¢çš„åˆ†ç±»" class="headerlink" title="å­æŸ¥è¯¢çš„åˆ†ç±»"></a>å­æŸ¥è¯¢çš„åˆ†ç±»</h2><ul>
<li><p>ç›¸å…³å­æŸ¥è¯¢ - å­æŸ¥è¯¢ä¸­ä½¿ç”¨åˆ°äº†å¤–éƒ¨æŸ¥è¯¢çš„åˆ—.å­æŸ¥è¯¢æ˜¯ä¸èƒ½å¤Ÿç‹¬ç«‹è¿è¡Œçš„.</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">s</code></pre></li>
<li><p>æ— å…³å­æŸ¥è¯¢ - å­æŸ¥è¯¢ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°å¤–éƒ¨æŸ¥è¯¢çš„åˆ—,å­æŸ¥è¯¢æ˜¯å…è®¸å•ç‹¬æ‰§è¡Œçš„.</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">        </code></pre></li>
<li><p>å…³è”æŸ¥è¯¢</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- å†™è¿‡äº†- æŸ¥è¯¢å‡ºå®¢æˆ·å,ç”µè¯å·ç ä»¥åŠè®¢å•æ•°é‡</span>
</code></pre></li>
</ul>
<p>åªç”¨åŸåˆ™:<em><strong>å…³è”æŸ¥è¯¢&gt;æ— å…³å­æŸ¥è¯¢&gt;ç›¸å…³å­æŸ¥è¯¢.</strong></em></p>
<h1 id="existså’Œnot-existsç”¨æ³•"><a href="#existså’Œnot-existsç”¨æ³•" class="headerlink" title="existså’Œnot existsç”¨æ³•"></a>existså’Œnot existsç”¨æ³•</h1><ul>
<li>exists å…³å¿ƒæ¡ä»¶ä¸ºtrue - æ˜¯å¦å­˜åœ¨</li>
<li>not exits å…³å¿ƒæ¡ä»¶ä¸ºfalse - ä¸å­˜åœ¨</li>
</ul>
<p>ä¸å…³å¿ƒæŸ¥è¯¢å‡ºæ¥çš„æ˜¯ä»€ä¹ˆ,åªå…³å¿ƒèƒ½ä¸èƒ½æŸ¥è¯¢å‡ºæ¥</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- exists - ä¸å…³å¿ƒä½ æŸ¥è¯¢çš„æ˜¯ä»€ä¹ˆ,åªéœ€è¦èƒ½å¤ŸæŸ¥è¯¢å‡ºè¡Œè®°å½•,ä»£è¡¨where true - é¡ºåˆ©æŸ¥è¯¢å‡ºæ•°æ®å‡ºæ¥</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<ul>
<li><p>æ‰¾å‡ºä¸â€™Benâ€™åŒéƒ¨é—¨çš„å‘˜å·¥</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>dept_id <span class="token keyword">from</span> s_emp e <span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span>
					<span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> s_emp e1 <span class="token keyword">where</span> e1<span class="token punctuation">.</span>first_name<span class="token operator">=</span><span class="token string">'Ben'</span> <span class="token operator">and</span> e1<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> e<span class="token punctuation">.</span>dept_id
			 <span class="token punctuation">)</span> <span class="token operator">and</span> e<span class="token punctuation">.</span>first_name<span class="token operator">&lt;></span><span class="token string">'Ben'</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æ‰¾å‡ºå„ä¸ªéƒ¨é—¨å·¥èµ„æ’åå‰äºŒçš„å‘˜å·¥</p>
<p>å‰ææ˜¯ - ç›¸åŒå·¥èµ„ä¸è¶…è¿‡2ä¸ª.</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- åœ¨"æˆ‘e"è¿™ä¸ªéƒ¨é—¨ä¸­,å¦‚æœæœ‰äººçš„å·¥èµ„æ¯”"æˆ‘e"è¿˜è¦é«˜,é‚£ä¹ˆè¿™ä¸ªäººçš„æ•°é‡ä¸èƒ½è¶…è¿‡1ä¸ª.</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>e<span class="token punctuation">.</span>dept_id <span class="token keyword">from</span> s_emp e <span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span>
       	   <span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> s_emp e1 <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> e1<span class="token punctuation">.</span>dept_id <span class="token operator">and</span> e1<span class="token punctuation">.</span>salary<span class="token operator">></span>e<span class="token punctuation">.</span>salary
           <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">1</span>
       <span class="token punctuation">)</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre>

<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- ä¸å­˜åœ¨,åœ¨"æˆ‘e"è¿™ä¸ªéƒ¨é—¨ä¸­,æœ‰äººçš„å·¥èµ„æ¯”æˆ‘é«˜,å¹¶ä¸”è¿™ä¸ªæ•°é‡è¶…è¿‡1.</span>
mysql<span class="token operator">></span><span class="token keyword">select</span> e<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>e<span class="token punctuation">.</span>dept_id <span class="token keyword">from</span> s_emp e <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">(</span>
       	   <span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> s_emp e1 <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> e1<span class="token punctuation">.</span>dept_id <span class="token operator">and</span> e1<span class="token punctuation">.</span>salary<span class="token operator">></span>e<span class="token punctuation">.</span>salary
           <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">1</span>
       <span class="token punctuation">)</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æ‰¾å‡ºå„ä¸ªéƒ¨é—¨ä¸­å·¥èµ„æœ€é«˜çš„å‘˜å·¥.</p>
<p>æ€è·¯:æœ¬éƒ¨é—¨ä¸­æ¯”â€™æˆ‘â€™å·¥èµ„é«˜çš„å‘˜å·¥ä¸è¶…è¿‡1ä¸ª.</p>
<p> æœ¬éƒ¨é—¨ä¸­ä¸å­˜åœ¨æ¯”â€™æˆ‘â€™å·¥èµ„è¿˜è¦é«˜çš„å‘˜å·¥(æ•°é‡&gt;0)</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>e<span class="token punctuation">.</span>dept_id <span class="token keyword">from</span> s_emp e <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">(</span>
          <span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> s_emp e1 <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> e1<span class="token punctuation">.</span>dept_id <span class="token operator">and</span> e1<span class="token punctuation">.</span>salary<span class="token operator">></span>e<span class="token punctuation">.</span>salary
          <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span>
       <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<h1 id="æ±‚å‡ºæŸ¥è¯¢ç»“æœçš„å¹¶é›†-å·®é›†-äº¤é›†"><a href="#æ±‚å‡ºæŸ¥è¯¢ç»“æœçš„å¹¶é›†-å·®é›†-äº¤é›†" class="headerlink" title="æ±‚å‡ºæŸ¥è¯¢ç»“æœçš„å¹¶é›†,å·®é›†,äº¤é›†."></a>æ±‚å‡ºæŸ¥è¯¢ç»“æœçš„å¹¶é›†,å·®é›†,äº¤é›†.</h1><ul>
<li><p>å¹¶é›† - union     union all</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">create table tnum(
	 id int(7) primary key
);
insert into tnum values(1),(2),(3),(4),(5);


select id from tnum where id in(1,2)
union
select id from tnum where id in(2,3);


+----+
| id |
+----+
|  1 |
|  2 |
|  3 |


select id from tnum where id in(1,2)
union all
select id from tnum where id in(2,3);

+----+
| id |
+----+
|  1 |
|  2 |
|  2 |
|  3 |
+----+</code></pre></li>
<li><p><strong>å·®é›†</strong></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- oracleæ•°æ®åº“ - ç›´æ¥æ”¯æŒminuså…³é”®å­—
-- markdownè¯­æ³•   mdæ–‡ä»¶ - typora
select id from tnum where id in(1,2)
minus
select id from tnum where id in(2,3);

å·®é›† - 1

-- mysql
-- è™šæ‹Ÿè¡¨core_a
select t1.id aid from tnum t1 where t1.id in(1,2);

-- è™šæ‹Ÿè¡¨core_b
select t2.id bid from tnum t2 where t2.id in(2,3);

-- æ¨è
-- æ€è·¯ - ä¿©å¼ è¡¨è¿›è¡Œleft join æ‰¾å‡ºnullçš„è¡Œæ•°æ®
mysql&gt;select core_a.aid from (select t1.id aid from tnum t1 where t1.id in(1,2)) core_a 
left join (select t2.id bid from tnum t2 where t2.id in(2,3)) core_b on core_a.aid &#x3D; core_b.bid where core_b.bid is null;

æ€è€ƒä¸€ä¸ªé—®é¢˜å·®é›†åº”ç”¨åœ¨å“ªé‡Œ? - å†™sql -&gt; 
1 - å­¦ç”Ÿè¡¨,æ•™å¸ˆè¡¨,è¯¾ç¨‹è¡¨,é€‰è¯¾è¡¨</code></pre></li>
</ul>
<h1 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h1><p>DDL - Data  Definition Language - æ•°æ®å®šä¹‰è¯­è¨€.</p>
<ul>
<li><p><strong>create - åˆ›å»ºè¡¨(åˆ›å»ºdb,åˆ›å»ºuser,åˆ›å»ºtable,åˆ›å»ºview,åˆ›å»º<em>index</em>,åˆ›å»ºfunction,åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ - åˆ›å»ºdbçš„åŸºæœ¬å¯¹è±¡)</strong></p>
</li>
<li><p><strong>drop - åˆ é™¤db,åˆ é™¤dbçš„åŸºæœ¬å¯¹è±¡.</strong></p>
</li>
<li><p>truncate - æ¸…ç©ºè¡¨</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">drop , truncate, deleteä¸‰ä¸ªå‘½ä»¤çš„åŒºåˆ«!</code></pre></li>
<li><p><em><strong>alterå‘½ä»¤ - äº†è§£å³å¯</strong></em>(ä¿®æ”¹åˆ—å,ä¿®æ”¹è¡¨å,ä¿®æ”¹åˆ—çš„å±æ€§,ä¿®æ”¹çº¦æŸ).</p>
</li>
<li><p>rename to - é‡æ–°å‘½å[è¡¨,åˆ—]</p>
</li>
<li><p>comment - åˆ›å»ºè¡¨æ—¶ç»™åˆ—åŠ çš„æ³¨é‡Š.</p>
</li>
</ul>
<h1 id="æ•°æ®åº“çš„è®¾è®¡"><a href="#æ•°æ®åº“çš„è®¾è®¡" class="headerlink" title="æ•°æ®åº“çš„è®¾è®¡"></a>æ•°æ®åº“çš„è®¾è®¡</h1><h2 id="è¡¨ä¹‹é—´çš„å…³ç³»"><a href="#è¡¨ä¹‹é—´çš„å…³ç³»" class="headerlink" title="è¡¨ä¹‹é—´çš„å…³ç³»"></a>è¡¨ä¹‹é—´çš„å…³ç³»</h2><ul>
<li><p>1:1 - å¤–é”®åˆ—åŒæ–¹éƒ½æ˜¯å…è®¸ç»´æŠ¤çš„.</p>
<p>t_husband</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>å°æ˜</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>é»„å°æ˜</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>é»„å¤§æ˜</td>
<td></td>
</tr>
</tbody></table>
<p>t_wife</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>husband_id</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>baby</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>å°baby</td>
<td>3</td>
</tr>
<tr>
<td>3</td>
<td>è€baby</td>
<td>2</td>
</tr>
</tbody></table>
</li>
<li><p><strong><a href>1:N - å¤–é”®åˆ—å¿…ç„¶å‡ºç°åœ¨å¤šçš„ä¸€æ–¹çš„</a></strong></p>
<p>t_customer</p>
<table>
<thead>
<tr>
<th>id</th>
<th>customer</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>james</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>jack</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>gosling</td>
<td></td>
</tr>
</tbody></table>
<p>t_ord</p>
<table>
<thead>
<tr>
<th>id</th>
<th>ordno</th>
<th>customer_id</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1001</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1002</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>1003</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>1004</td>
<td>2</td>
</tr>
</tbody></table>
</li>
<li><p>N:N</p>
<p>ä¸€ä¸ªç”¨æˆ·æ‹¥æœ‰å¤šä¸ªè§’è‰²</p>
<p>ä¸€ä¸ªè§’è‰²å¯ä»¥è¢«å¤šä¸ªç”¨æˆ·å ç”¨</p>
<p>user ç”¨æˆ·è¡¨</p>
<table>
<thead>
<tr>
<th>id</th>
<th>username</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ç‹æ€»</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>ææ€»</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>å­™æ€»</td>
<td></td>
</tr>
</tbody></table>
<p>role è§’è‰²è¡¨</p>
<table>
<thead>
<tr>
<th>id</th>
<th>rolename</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>æ€»ç»ç†</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>é”€å”®ç»ç†</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>å®¢æˆ·ç»ç†</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>æ¸ é“ç»ç†</td>
<td></td>
</tr>
</tbody></table>
<p>æ‰€ä»¥å³ä½¿é‡åˆ°N:N - &gt; <strong>æ‹†åˆ†æˆä¿©ä¸ª1:N</strong></p>
</li>
</ul>
<p>â€‹       user_roleç”¨æˆ·è§’è‰²è¡¨</p>
<p>â€‹      </p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>role_id</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td></td>
</tr>
</tbody></table>
<h2 id="ä¸‰å¤§èŒƒå¼"><a href="#ä¸‰å¤§èŒƒå¼" class="headerlink" title="ä¸‰å¤§èŒƒå¼"></a>ä¸‰å¤§èŒƒå¼</h2><p>æ•°æ®åº“è®¾è®¡åŸåˆ™ä¹Ÿå°±æ˜¯æŒ‡<code>æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼</code>.</p>
<p>ä½œç”¨:æ˜¯ç”¨æ¥æŒ‡å¯¼æ•°æ®åº“è®¾è®¡äººå‘˜çš„ä¸€ç§è®¾è®¡æ€æƒ³,ä¿è¯æ•°æ®åº“çš„è®¾è®¡æ˜¯å…·å¤‡å¯æ‹“å±•æ€§,æ— æ•°æ®çš„å†—ä½™,ç»“æ„æ¸…æ™°ç®€å•æ˜äº†.</p>
<ul>
<li><p><em><strong>1NF:åŸå­æ€§,ä¹Ÿå°±æ˜¯è¯´è¡¨ä¸­ä»»ä½•ä¸€ä¸ªåˆ—éƒ½æ˜¯å”¯ä¸€çš„,ä¸å¯å†æ‹†åˆ†.</strong></em></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">s_emp(id,name);&#x2F;&#x2F;ä¸åˆç†çš„,ä¸æ»¡è¶³åŸå­æ€§.

nameç»§ç»­åˆ†å‰²first_name,last_name

student(id,sname,address);
id sname 			address
1   tom   æ±Ÿè‹çœè‹å·å¸‚é«˜æ–°åŒº
2   jack  å®‰å¾½çœèŠœæ¹–å¸‚xxåŒº

-- å¦‚æœé¡¹ç›®çš„ä¸šåŠ¡ä¸­éœ€è¦é¢‘ç¹çš„å¯¹addressåˆ—è¿›è¡ŒæŸ¥è¯¢,ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡
-- mysqlä¸­ä¸ºç»™addressè¿™ä¸ªåˆ—æ·»åŠ ä¸€ä¸ªç´¢å¼•
-- ä½†æ˜¯å¦‚æœç´¢å¼•åˆ—ä½¿ç”¨åˆ°äº†ä¸‹é¢çš„è¿™ä¸ªæ¨¡ç³ŠæŸ¥è¯¢çš„è¯,é‚£ä¹ˆè¿™ä¸ªç´¢å¼•åˆ—å°†ä¼šå¤±æ•ˆ.
select * from student where address like &#39;%è‹å·å¸‚%&#39;;


student(id,sname,province,city,area);

id sname province city area
1    tom  æ±Ÿè‹çœ    è‹å·å¸‚  é«˜æ–°åŒº

-- ç²¾ç¡®æŸ¥æ‰¾ - åªè¦cityåˆ—å¦‚æœæ·»åŠ äº†ç´¢å¼•,é‚£ä¹ˆè¿™ä¸ªç´¢å¼•æ˜¯ç”Ÿæ•ˆçš„,æé«˜æŸ¥è¯¢æ•ˆç‡çš„.
select * from student where city&#x3D;&#39;è‹å·å¸‚&#39;;</code></pre></li>
<li><p><strong>2NF:åœ¨1NFçš„åŸºç¡€ä¸Š,ä¸å­˜åœ¨éå…³é”®åˆ—éƒ¨åˆ†ä¾èµ–äºå…³é”®åˆ—,ä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„éå…³é”®åˆ—éƒ½å¿…é¡»å®Œå…¨ä¾èµ–äºå…³é”®åˆ—.</strong></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">å…³ç³»å‹æ•°æ®åº“ - å…³ç³» - &gt; è¡¨æ ¼
å…³é”®åˆ— - ä¸»é”®åˆ—,ä¸€å¼ è¡¨ä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ªä¸»é”®.é€šå¸¸é€‰æ‹©ä½¿ç”¨idåˆ—ä½œä¸ºä¸»é”®åˆ—. 
        ä¸»é”®åˆ—ç‰¹ç‚¹ - å”¯ä¸€çš„,éç©ºçš„.ä½œç”¨ - å°±æ˜¯ç”¨æ¥å”¯ä¸€ç¡®å®šå…ƒç»„[è¡Œ]
        
student(sid,sname,cid,cname,score)

sid	sname	cid	cname	score
1	  å‡¤å§   1   ä½œå¦–   100
2   èŠ™è“‰   2   java   90
3   å‡¤å§   1   python 80

-- è¡¨ä¸æ˜¯è¯´è®¾è®¡å¾—è¶Šå°‘è¶Šç‰›é€¼.

-- æ¯”å¦‚å‡¤å§å¹²æ‰ - åˆ é™¤å‡¤å§çš„è®°å½•.
åˆ é™¤å‡¤å§çš„åŒæ—¶,ä¹ŸæŠŠè¯¾ç¨‹ä¿¡æ¯ä¹Ÿåˆ é™¤äº†.

-- æ¯”å¦‚å­¦æ ¡ç”³è¯·äº†æ–°çš„ä¸“ä¸š
sid	sname	cid	cname	score
1	  å‡¤å§   1   ä½œå¦–   100
2   èŠ™è“‰   2   python  90
1   å‡¤å§   2   python 80
          3   html
ä¸ºä»€ä¹ˆè¯´ä¸æ»¡è¶³2NF?
ç¡®å®šå…³é”®åˆ—æ˜¯å“ªä¸ª?   ç»„åˆå…³é”®åˆ— - è”åˆä¸»é”® - (sid,cid)

(sid,cid) -&gt; sname(éå…³é”®åˆ—)
å› ä¸ºsnameè¿™ä¸ªéå…³é”®åˆ—åªéœ€è¦ç”±å…³é”®åˆ—(sid,cid)ä¸­çš„sidå°±å¯ä»¥ç¡®å®šäº†
åªéœ€è¦ä¾èµ–äºå…³é”®åˆ—ä¸­çš„å…¶ä¸­çš„ä¸€éƒ¨åˆ†è€Œå·².

-- è§£è€¦åˆ - è½¯ä»¶å¼€å‘çš„åŸåˆ™ - é«˜å†…èš,ä½è€¦åˆ.
student(sid,sname);
1   tom
2   jack

course(cid,cname);
1  java
2  python

score(sid,cid,score);
1 1 100
1 2 90
2 1 80

(sid,cid) -&gt; score</code></pre></li>
<li><p>3NF:åœ¨2NFçš„åŸºç¡€ä¸Š,<strong>ä¸å­˜åœ¨éå…³é”®åˆ—ä¼ é€’ä¾èµ–äºå…³é”®åˆ—</strong>,ä¹Ÿå°±æ˜¯è¯´,<strong>æ‰€æœ‰çš„éå…³é”®åˆ—éƒ½å¿…é¡»ç›´æ¥ä¾èµ–äºå…³é”®åˆ—</strong></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">student(sid,sname,uno,uname,adress,phone);

1 tom  1001 æ±Ÿç§‘å¤§ å¼ å®¶æ¸¯  11009
2 jack 1002 è‹ç§‘å¤§ è‹å·    12009

sid -&gt; uno -&gt; phone

-- uno å¤–é”®åˆ—
-- sid- &gt; uno
student(sid,sname,uno)

1  tom 1

-- uno -&gt; phone
university(uno,address,phone);

1 xx 11110
</code></pre></li>
</ul>
<h1 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h1><p>è¯­æ³•</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- ä¸å«æœ‰çº¦æŸçš„</span>
<span class="token comment">-- [if not exists] åŒä¸€ä¸ªæ•°æ®åº“ä¸­ä¸èƒ½åˆ›å»ºåŒåçš„è¡¨,å¦‚æœä¸åŠ ä¸Šè¿™ä¸ª,é‚£ä¹ˆä¼šæŠ¥é”™.</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">]</span> table_name<span class="token punctuation">(</span>
  åˆ—å<span class="token number">1</span> åˆ—çš„æ•°æ®ç±»å‹<span class="token punctuation">(</span>èŒƒå›´<span class="token punctuation">)</span><span class="token punctuation">,</span>
  åˆ—å<span class="token number">2</span> åˆ—çš„æ•°æ®ç±»å‹<span class="token punctuation">(</span>èŒƒå›´<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>
  åˆ—ån åˆ—çš„æ•°æ®ç±»å‹<span class="token punctuation">(</span>èŒƒå›´<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">default</span> <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">]</span><span class="token punctuation">;</span>
mysql5<span class="token punctuation">.</span><span class="token number">7</span>é»˜è®¤çš„å­˜å‚¨å¼•æ“å°±æ˜¯<span class="token keyword">InnoDB</span><span class="token punctuation">,</span>ç¼–ç my<span class="token punctuation">.</span>iniæ–‡ä»¶ä¸­å·²ç»è®¾ç½®è¿‡äº†<span class="token punctuation">.</span>

é€šè¿‡<span class="token keyword">show</span>å‘½ä»¤æ¥æŸ¥çœ‹å·²å­˜åœ¨è¡¨çš„å»ºè¡¨è¯­å¥<span class="token punctuation">.</span>
mysql<span class="token operator">></span><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">;</span>

æ•°æ®ç±»å‹
æ•´æ•° <span class="token operator">-</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">9999999</span>
å°æ•° <span class="token operator">-</span> <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">99999.99</span>

å­—ç¬¦ä¸² <span class="token operator">-</span> <span class="token keyword">varchar</span> <span class="token operator">-</span> ä¸å®šé•¿å­—ç¬¦ä¸²
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">-</span> æ¯”å¦‚è¿™åˆ—å­˜å‚¨äº†<span class="token string">"abc"</span>

å­—ç¬¦ <span class="token operator">-</span> <span class="token keyword">char</span> <span class="token operator">-</span> å®šé•¿å­—ç¬¦ä¸²
name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">"a"</span> <span class="token operator">-</span><span class="token operator">></span> å®é™…ä»ç„¶å <span class="token number">20</span>ä¸ª

ç©ºé—´æ¢æ—¶é—´

æ—¥æœŸ
	<span class="token keyword">date</span>    å¹´æœˆæ—¥
	<span class="token keyword">datetime</span> å¹´æœˆæ—¥æ—¶åˆ†ç§’</code></pre>

<h3 id="ç»ƒä¹ -1"><a href="#ç»ƒä¹ -1" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- drop table è¡¨å;
drop table t_student;

create table t_student(
	id int(7),
  name varchar(10),
  height double(5,2),
  birthday date,
  sex char(1)
);

æ•°æ®ç±»å‹çš„ä½œç”¨æ˜¯ä»€ä¹ˆ? - ä¸ºäº†è§„èŒƒæ’å…¥çš„æ•°æ®çš„åˆæ³•æ€§!
mysql&gt; insert into t_student values(1,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);

mysql&gt; insert into t_student values(5,&#39;jack&#39;,132.6,&#39;2020-09-08&#39;,&#39;F&#39;);&#x2F;&#x2F;error

mysql&gt; insert into t_student values(5,&#39;jack&#39;,132.6,&#39;2020-09-08&#39;,&#39;FA&#39;);
ERROR 1406 (22001): Data too long for column &#39;sex&#39; at row 1</code></pre>



<h1 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a>çº¦æŸ</h1><p>ç®€ä»‹:constraintçš„ä½œç”¨ - ä¸ºäº†æ·»åŠ æ•°æ®çš„æ—¶å€™,æ•°æ®çš„æ›´åŠ åˆæ³•æ€§.ä¸€æ—¦è¿åäº†æŸä¸ªçº¦æŸ,sqlè¯­å¥éƒ½ä¼šæ‰§è¡Œé”™è¯¯.</p>
<p>mysqlä¸­æœ‰ä¸€å¥—å¼‚å¸¸æœºåˆ¶.</p>
<p><em><strong>a. primary key ä¸»é”®çº¦æŸ - éç©ºä¸”å”¯ä¸€çš„.æ¯å¼ è¡¨éƒ½åº”è¯¥ç»™å®šä¸€ä¸ªä¸»é”®,é€šå¸¸é€‰å–id.å½“ç„¶ä¹Ÿæ˜¯æ”¯æŒç»„åˆä¸»é”®.</strong></em></p>
<p><em><strong>b. not null - éç©ºçº¦æŸ,æ’å…¥æ•°æ®çš„æ—¶å€™,è¯¥åˆ—çš„æ•°æ®ä¸å…è®¸ä¸ºnull.</strong></em></p>
<p><em><strong>c. unique - å”¯ä¸€æ€§çº¦æŸ.æ’å…¥çš„æ•°æ®å¿…é¡»è¦ä¿è¯å”¯ä¸€æ€§.ä¸èƒ½å‡ºç°é‡å¤çš„.</strong></em></p>
<p><em><strong>d. foreign key - å¤–é”®çº¦æŸ.è¡¨å’Œè¡¨ä¹‹é—´çš„å…³ç³»çš„.</strong></em></p>
<p><em><strong>e. default é»˜è®¤å€¼,å¦‚æœæ’å…¥æ•°æ®çš„æ—¶å€™,æ²¡æœ‰ç»™å®šåˆ—çš„å€¼,åˆ™ä½¿ç”¨é»˜è®¤å€¼.</strong></em></p>
<p>ä¸»é”®å’Œå”¯ä¸€</p>
<ol>
<li>åŒºåˆ«ï¼š</li>
</ol>
<p>â‘ . ä¸€ä¸ªè¡¨è‡³å¤šæœ‰ä¸€ä¸ªä¸»é”®ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€</p>
<p>â‘¡. ä¸»é”®ä¸å…è®¸ä¸ºç©ºï¼Œå”¯ä¸€å¯ä»¥ä¸ºç©º</p>
<ol start="2">
<li>ç›¸åŒç‚¹</li>
</ol>
<p>â‘ . éƒ½å…·æœ‰å”¯ä¸€æ€§</p>
<p>â‘¡.  éƒ½æ”¯æŒç»„åˆé”®ï¼Œä½†ä¸æ¨è</p>
<h2 id="åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ"><a href="#åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ" class="headerlink" title="åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ"></a>åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ</h2><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
  å­—æ®µå å­—æ®µç±»å‹ <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  å­—æ®µå å­—æ®µç±»å‹ <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
  å­—æ®µå å­—æ®µç±»å‹ <span class="token keyword">unique</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  å­—æ®µå å­—æ®µç±»å‹ <span class="token keyword">default</span> å€¼<span class="token punctuation">,</span>
  <span class="token keyword">constraint</span> çº¦æŸå <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>å­—æ®µå<span class="token punctuation">)</span> <span class="token keyword">references</span> ä¸»è¡¨ï¼ˆè¢«å¼•ç”¨åˆ—ï¼‰
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li><p>åˆ—çº§çº¦æŸï¼š é™¤äº†å¤–é”®å…¶ä»–ç±»å‹éƒ½æ”¯æŒï¼Œ<em><strong>ä¸å¯ä»¥èµ·çº¦æŸåï¼›</strong></em></p>
</li>
<li><p>è¡¨çº§çº¦æŸï¼š é™¤äº†éç©ºå’Œé»˜è®¤å…¶ä»–ç±»å‹éƒ½æ”¯æŒï¼Œå¯ä»¥èµ·çº¦æŸåï¼Œä½†å¯¹ä¸»é”®æ— æ•ˆã€‚</p>
</li>
<li><p>åˆ—çº§çº¦æŸå¯ä»¥åœ¨ä¸€ä¸ªå­—æ®µä¸Šè¿½åŠ å¤šä¸ªï¼Œä¸­é—´ç”¨ç©ºæ ¼éš”å¼€ï¼Œæ²¡æœ‰é¡ºåºè¦æ±‚</p>
</li>
</ol>
<h3 id="åˆ—çº§è¯­æ³•æ·»åŠ "><a href="#åˆ—çº§è¯­æ³•æ·»åŠ " class="headerlink" title="åˆ—çº§è¯­æ³•æ·»åŠ "></a>åˆ—çº§è¯­æ³•æ·»åŠ </h3><p> è¾¹å®šä¹‰åˆ—,è¾¹æ·»åŠ çº¦æŸ - ä¸èƒ½å¯¹çº¦æŸè¿›è¡Œå‘½å.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">drop table t_student;
create table t_student(
	id int(3) primary key,
  name varchar(10),
  height double(5,2),
  birthday date,
  sex char(1)
);
mysql&gt; insert into t_student values(12345,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
mysql&gt; insert into t_student values(1,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
ERROR 1062 (23000): Duplicate entry &#39;1&#39; for key &#39;PRIMARY&#39;

è¯´æ˜primary key - å”¯ä¸€æ€§
mysql&gt; insert into t_student values(null,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
ERROR 1048 (23000): Column &#39;id&#39; cannot be null
è¯´æ˜primary key - éç©ºæ€§


unique - å”¯ä¸€æ€§,å¯ä»¥ä¸ºç©º
drop table t_student;
create table t_student(
	id int(7) primary key,
  name varchar(10) unique,
  height double(5,2),
  birthday date,
  sex char(1)
);
insert into t_student values(1,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
insert into t_student values(2,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
ERROR 1062 (23000): Duplicate entry &#39;tom&#39; for key &#39;name&#39;

insert into t_student values(2,&#39;t&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);

insert into t_student values(3,null,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
insert into t_student values(4,null,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);

not null - éç©º
drop table t_student;
create table t_student(
	id int(7) primary key,
  name varchar(10) unique,
  height double(5,2) not null,
  birthday date,
  sex char(1)
);
insert into t_student(id,name,birthday,sex) values(5,&#39;ss&#39;,&#39;2020-09-08&#39;,&#39;F&#39;);
ERROR 1364 (HY000): Field &#39;height&#39; doesn&#39;t have a default value

-- æŸä¸ªåˆ—åŒæ—¶æ·»åŠ éç©ºå’Œå”¯ä¸€ä¿©ä¸ªçº¦æŸå‘¢????
drop table t_student;
create table t_student(
	id int(7) primary key,
  name varchar(10) unique not null,
  height double(5,2) not null,
  birthday date,
  sex char(1)
);</code></pre>



<h3 id="è¡¨çº§è¯­æ³•æ·»åŠ "><a href="#è¡¨çº§è¯­æ³•æ·»åŠ " class="headerlink" title="è¡¨çº§è¯­æ³•æ·»åŠ "></a>è¡¨çº§è¯­æ³•æ·»åŠ </h3><p>å…ˆå®šä¹‰åˆ—,ç„¶åå†æ·»åŠ çº¦æŸ</p>
<p><em><strong>[constraint çº¦æŸåç§°] çº¦æŸç±»å‹(åˆ—å)</strong></em></p>
<p>çº¦æŸå‘½åè§„èŒƒ - è¡¨å_åˆ—å_çº¦æŸç¼©å†™</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- ä¸æ”¯æŒnot nullå’Œdefault.å¯ä»¥å¯¹çº¦æŸè¿›è¡Œå‘½å,æé«˜é”™è¯¯çš„å¯è¯»æ€§.
-- pkåˆ—ä¸éœ€è¦å¦å–çº¦æŸçš„åç§°,å§‹ç»ˆä½¿ç”¨é»˜è®¤çš„çº¦æŸåç§° - PRIMARY 

-- åˆ—çº§æ·»åŠ çº¦æŸçš„æ—¶å€™,ä¸å…è®¸è‡ªå®šä¹‰çº¦æŸçš„åç§°
-- è¡¨çº§æ·»åŠ çº¦æŸçš„æ—¶å€™,æ˜¯å…è®¸è‡ªå®šä¹‰çº¦æŸçš„åç§°
-- çº¦æŸçš„åç§°æ¨è - è¡¨å_åˆ—å_çº¦æŸç±»å‹çš„ç¼©å†™
drop table t_student;
create table t_student(
	id int(7),
  name varchar(10),
  height double(5,2) not null,
  birthday date,
  sex char(1),
  primary key(id),
  constraint t_student_name_uq unique(name)
);

insert into t_student values(1,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
insert into t_student values(2,&#39;tom&#39;,132.67,&#39;2020-09-08&#39;,&#39;F&#39;);
ERROR 1062 (23000): Duplicate entry &#39;tom&#39; for key &#39;t_student_name_uq&#39;</code></pre>

<h3 id="æ•°æ®å­—å…¸-ç³»ç»Ÿè¡¨"><a href="#æ•°æ®å­—å…¸-ç³»ç»Ÿè¡¨" class="headerlink" title="æ•°æ®å­—å…¸ - ç³»ç»Ÿè¡¨"></a>æ•°æ®å­—å…¸ - ç³»ç»Ÿè¡¨</h3><p>æˆ‘ä»¬ç”¨æˆ·æ‰€æœ‰çš„æ“ä½œéƒ½ä¼šè¢«ä¿å­˜åœ¨æ•°æ®å­—å…¸ä¸­.<em><strong>æ•°æ®å­—å…¸</strong></em>å°±æ˜¯ç³»ç»Ÿè¡¨æ¥ä¿å­˜ç”¨æˆ·è¡¨çš„ä¿¡æ¯çš„.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æŸ¥è¯¢å‡ºt_studentè¡¨ä¸­çš„çº¦æŸç±»å‹å’Œçº¦æŸåç§°ä»¥åŠçº¦æŸçš„åˆ—

-- åˆ°å“ªé‡ŒæŸ¥ - ç³»ç»Ÿè¡¨
-- æŸ¥ä»€ä¹ˆ
use information_schema 

desc table_constraints

select constraint_name,constraint_type,table_name from table_constraints where table_name&#x3D;&#39;t_student&#39;;
</code></pre>

<h3 id="default"><a href="#default" class="headerlink" title="default"></a>default</h3><pre class="language-mysql" data-language="mysql"><code class="language-mysql">primary key - å¯ä»¥æ”¯æŒè¡¨çº§æ·»åŠ ,ä¸å…è®¸é‡æ–°å®šä¹‰çº¦æŸå
not null - ä»…ä»…æ·»åŠ åˆ—çº§æ·»åŠ 
unique - å¯ä»¥æ”¯æŒè¡¨çº§æ·»åŠ ,æ”¯æŒé‡æ–°å®šä¹‰çº¦æŸå
foreign key - ä»…ä»…æ”¯æŒè¡¨çº§æ·»åŠ ,é‡æ–°å®šä¹‰çº¦æŸå
default - ä»…ä»…æ”¯æŒåˆ—çº§æ·»åŠ ,ç»™å®šä¸€ä¸ªé»˜è®¤å€¼

drop table t_student;
create table t_student(
	id int(7) primary key,
  name varchar(10) unique,
  height double(5,2) default 3.14,
  birthday datetime default now(),
  sex char(1)
);
insert into t_student(id,name,sex) values(1,&#39;xx&#39;,&#39;f&#39;);</code></pre>



<h3 id="å¤–é”®çº¦æŸ-ç»†èŠ‚"><a href="#å¤–é”®çº¦æŸ-ç»†èŠ‚" class="headerlink" title="å¤–é”®çº¦æŸ - ç»†èŠ‚"></a>å¤–é”®çº¦æŸ - ç»†èŠ‚</h3><p>å¤–é”®çº¦æŸä¸æ”¯æŒåˆ—çº§æ·»åŠ ,ä»…ä»…æ”¯æŒè¡¨çº§æ·»åŠ .</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">create table cus(
	id int(7) primary key,
  cname varchar(20)
);

create table ords(
	id int(7) primary key,
  ordno varchar(20),
  cus_id int(7),
  constraint ords_cus_id_fk foreign key(cus_id) references cus(id)
);

insert into cus values(1,&#39;tom&#39;),(2,&#39;jack&#39;);

insert into ords values(1,&#39;1001&#39;,1);
insert into ords values(2,&#39;1002&#39;,1);

-- å¤–é”®åˆ—åœ¨å¼•ç”¨çš„é‚£ä¸ªè¡¨ä¸­ä¸€å®šè¦å­˜åœ¨è®°å½•çš„.å¦åˆ™æ’å…¥å¤±è´¥.
insert into ords values(3,&#39;1003&#39;,3);

-- å¤–é”®åˆ—å…è®¸ä¸ºç©º...
insert into ords(id,ordno) values(4,&#39;1004&#39;);

-- æ‰§è¡ŒDMLæ“ä½œ
delete from cus where id&#x3D;1;
åˆ é™¤å¤±è´¥,ç”±äºå¤–é”®çº¦æŸçš„ä½œç”¨ - ç”±äºid&#x3D;1çš„å®¢æˆ·å­˜åœ¨è®¢å•å­è®°å½•

æ­£ç¡®çš„åˆ é™¤ - å…ˆåˆ é™¤è¿™ä¸ªå®¢æˆ·çš„æ‰€æœ‰çš„è®¢å•ä¿¡æ¯,ç„¶åæ‰èƒ½å¤Ÿåˆ é™¤å®¢æˆ·ä¿¡æ¯

æ³¨æ„åˆ é™¤çš„é¡ºåº - å…ˆåˆ é™¤å¤šçš„ä¸€æ–¹,ç„¶ååˆ é™¤ä¸€å®šæ–¹æ³•.
ä¸ºäº†æ•°æ®çš„å®‰å…¨....


ä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­åˆ›å»ºè¡¨çš„æ—¶å€™,ç»å¯¹ä¸è¦åˆ›å»ºå¤–é”®çº¦æŸ - å¢åŠ è¡¨ä¹‹é—´çš„è€¦åˆæ€§.

é©°æ˜Ÿempè¡¨
1   success 0
2   tao     1


é©°æ˜Ÿstudent
id name  teacherid
1  tom     1
2  jack    1

successè¢«å¼€é™¤äº†...

â‘  - å¿…é¡»è¦åˆ›å»ºçº¦æŸ - å¹¶ä¸ä¼šçœŸçš„è¿›è¡Œåˆ é™¤æ“ä½œ  -  1-&gt;0

â‘¡ - ä¸è®¸ä¸è¦åˆ›å»ºå¤–é”®çº¦æŸ
     
     è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»æ˜¯åœ¨ç¨‹åºå‘˜çš„å¿ƒé‡Œä¸­.....
</code></pre>

<h3 id="è”åˆä¸»é”®"><a href="#è”åˆä¸»é”®" class="headerlink" title="è”åˆä¸»é”®"></a>è”åˆä¸»é”®</h3><pre class="language-mysql" data-language="mysql"><code class="language-mysql">drop table user_role;
drop table user;
drop table role;

create table user(
	id int(7) primary key,
  username varchar(20)
);

create table role(
	id int(7) primary key,
  rolename varchar(20)
);

create table user_role(
	 user_id int(7),
   role_id int(7),
   primary key(user_id,role_id),
   constraint user_role_user_id foreign key(user_id) references user(id),
   constraint user_role_role_id foreign key(role_id) references role(id)
);</code></pre>

<h1 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h1><p><em><strong>DROP TABLE è¡¨å</strong></em></p>
<p><strong>æ³¨æ„:åˆ é™¤æ—¶å€™æ³¨æ„å¤–é”®çº¦æŸçš„å½±å“ï¼Œéœ€è¦å…ˆåˆ é™¤å¤šçš„ä¸€æ–¹,æ‰èƒ½å¤Ÿå»åˆ é™¤ä¸€çš„ä¸€æ–¹</strong></p>
<h1 id="DMLè¯­å¥"><a href="#DMLè¯­å¥" class="headerlink" title="DMLè¯­å¥"></a>DMLè¯­å¥</h1><p>DML - Data Manipulation Language - æ•°æ®æ“çºµè¯­è¨€.</p>
<p>éƒ½æ˜¯å¯¹è¡¨ä¸­çš„è®°å½•è¿›è¡Œæ“ä½œ</p>
<p><em><strong>(insert,update,delete)</strong></em></p>
<h2 id="insertè¯­å¥"><a href="#insertè¯­å¥" class="headerlink" title="insertè¯­å¥"></a>insertè¯­å¥</h2><blockquote>
<ol>
<li>æ’å…¥æ•°æ®</li>
</ol>
</blockquote>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- ç»™è¡¨ä¸­çš„æ‰€æœ‰çš„åˆ—å…¨éƒ¨æ’å…¥æŒ‡å®šçš„é¡ºåº
-- æ’å…¥æ•°æ®çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„æ•°æ®ç±»å‹,çº¦æŸæ¡ä»¶ä»¥åŠå’Œè¡¨ä¸­çš„åˆ—çš„é¡ºåºè¦ä¸€ä¸€å¯¹åº”
insert into table_name values(value1,value2,value3,valueN);

-- æ’å…¥æŒ‡å®šåˆ—,ä¸æ˜¯æ‰€æœ‰çš„åˆ—éƒ½æ’å…¥äº†æ•°æ®
insert into table_name(åˆ—1,åˆ—3,åˆ—5) values(value1,value2,value3);

-- æ‰¹é‡æ’å…¥
insert into table_name values(value1,value2),(value1,value2),(value1,value2);</code></pre>

<h3 id="åˆ©ç”¨ä¸€å¼ è¡¨æ¥æ„å»ºå¦å¤–ä¸€å¼ è¡¨"><a href="#åˆ©ç”¨ä¸€å¼ è¡¨æ¥æ„å»ºå¦å¤–ä¸€å¼ è¡¨" class="headerlink" title="åˆ©ç”¨ä¸€å¼ è¡¨æ¥æ„å»ºå¦å¤–ä¸€å¼ è¡¨"></a>åˆ©ç”¨ä¸€å¼ è¡¨æ¥æ„å»ºå¦å¤–ä¸€å¼ è¡¨</h3><ul>
<li><p>åˆ›å»ºä¸€å¼ è¡¨,ä¸ä»…ä»…æ˜¯ä¿ç•™è¡¨çš„ç»“æ„,è¿˜ä¿ç•™è¡¨çš„æ•°æ®</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;create table dept_copy as select * from s_dept;

mysql&gt;create table emp_copy as select id,first_name,salary from s_emp;</code></pre></li>
<li><p>åˆ›å»ºä¸€å¼ è¡¨,ä½†æ˜¯ä»…ä»…æ˜¯ä¿ç•™è¡¨çš„ç»“æ„,ä¸éœ€è¦ä¿ç•™è¡¨çš„æ•°æ®</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;create table emp_copy as select id,first_name,salary from s_emp where 1&#x3D;2;

è¡¥å……: selectè¯­å¥ where 1&#x3D;1 æ’æˆç«‹...

å£ç¡è§‰    å£ç©æ¸¸æˆ   å£åšæ¢¦

select * from hobbbies where xx&#x3D;&#39;sleeping&#39; and yy &#x3D; &#39;games&#39; and dd &#x3D; &#39;zuomeng&#39;;

å¤šé‡ç»„åˆæ¡ä»¶æŸ¥è¯¢çš„æ—¶å€™?
String str &#x3D; &quot;select * from hobbies where 1&#x3D;1&quot;;
if(&quot;ç¡è§‰&quot;ä¸ä¸ºç©º)&#123;
	
	str+&#x3D;&quot; and xx&#x3D;&#39;sleeping&#39;&quot;;
&#125;else if(ç©æ¸¸æˆä¸ä¸ºç©º)&#123;
  str+&#x3D;&quot; and xx&#x3D;&#39;games&#39;&quot;;
&#125;</code></pre></li>
</ul>
<h3 id="åˆ›å»ºè‡ªå¢å­—æ®µauto-increment"><a href="#åˆ›å»ºè‡ªå¢å­—æ®µauto-increment" class="headerlink" title="åˆ›å»ºè‡ªå¢å­—æ®µauto_increment"></a>åˆ›å»ºè‡ªå¢å­—æ®µauto_increment</h3><p>mysqlä¸­ä¸»é”®åˆ—idåˆ—è‡ªå¢çš„ç­–ç•¥(ä¸»é”®ç”Ÿé•¿ç­–ç•¥) - é»˜è®¤æ˜¯ä»1å¼€å§‹,æ­¥é•¿æ˜¯1.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- alter table emp auto_increment&#x3D;5;

mysql - auto_increment
oralce - sequence
ä¸»é”®çš„ç”Ÿæˆç­–ç•¥ - æ’å…¥æ•°æ®çš„æ—¶å€™,ä¸»é”®åˆ—[idåˆ—]çš„æ•°æ®æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„.

æ‰“å¼€ç½‘é¡µ - å‡ºç°ä¸€ä¸ªæ³¨å†Œçš„è¡¨å•é¡µé¢

user(id,username,password);
ç”¨æˆ·å:   tom
å¯†ç :     123
			  æäº¤æŒ‰é’®

å‰å°çš„æ•°æ®tom,123å°±ä¼šå‘é€åˆ°javaçš„åå°,javaçš„åå°æ¥å—åˆ°tom,123çš„
åå°ç»è¿‡ä»£ç å¤„ç† - æœ€ç»ˆè°ƒç”¨åˆ°insert into user(?,&#39;tom&#39;,&#39;123&#39;);

drop table t3;
create table t3(
	id int(7) primary key auto_increment,
  name varchar(20),
  pwd varchar(20)
);
mysql&gt; insert into t3 values(1,&#39;tom&#39;,&#39;123&#39;);

mysql&gt; insert into t3 values(2,&#39;tom&#39;,&#39;123&#39;);

mysql&gt; insert into t3 values(3,&#39;tom&#39;,&#39;123&#39;);

é»˜è®¤æ˜¯ä»1å¼€å§‹,å¹¶ä¸”æ­¥é•¿æ˜¯1

mysql&gt; insert into t3(name,pwd) values(&#39;jack&#39;,&#39;123&#39;);

-- æŸ¥è¯¢æœ€åä¸€ä¸ªæ’å…¥çš„ä¸»é”®å€¼
mysql&gt; select last_insert_id();</code></pre>

<h3 id="è·å–auto-incrementå€¼"><a href="#è·å–auto-incrementå€¼" class="headerlink" title="è·å–auto_incrementå€¼"></a>è·å–auto_incrementå€¼</h3><p>å¯ä»¥é€šè¿‡mysqlä¸­çš„last_insert_id()å‡½æ•°æ¥å®ç°</p>
<h2 id="updateè¯­å¥"><a href="#updateè¯­å¥" class="headerlink" title="updateè¯­å¥"></a>updateè¯­å¥</h2><p>update è¡¨å set åˆ—å=æ–°åˆ—å€¼[,åˆ—å2 = æ–°åˆ—å€¼2] [whereæ¡ä»¶è¯­å¥]</p>
<ul>
<li><p>æ›´æ–°æ‰€æœ‰è¡Œ</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; update table_name set åˆ—å&#x3D;æ–°çš„åˆ—å€¼[,åˆ—å2&#x3D;æ–°çš„åˆ—N];

mysql&gt; update t3 set name&#x3D;&#39;james&#39;,pwd&#x3D;&#39;000&#39;;</code></pre></li>
<li><p>æ›´æ–°æŒ‡å®šè¡Œ - å¸¦whereæ¡ä»¶</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; updateè¯­å¥ where æ¡ä»¶

mysql&gt; update t3 set name&#x3D;&#39;jack&#39; where id&#x3D;5;</code></pre></li>
</ul>
<h2 id="deleteè¯­å¥"><a href="#deleteè¯­å¥" class="headerlink" title="deleteè¯­å¥"></a>deleteè¯­å¥</h2><p>deleteè€ƒè™‘å¤–é”®çº¦æŸ.å…ˆdeleteå¤šçš„,å†deleteä¸€çš„.</p>
<ul>
<li><p>åˆ é™¤æ‰€æœ‰è¡Œ</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">delete</span> <span class="token keyword">from</span> table_name<span class="token punctuation">;</span></code></pre></li>
<li><p>åˆ é™¤æŒ‡å®šè¡Œ - whereæ¡ä»¶</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">delete</span> <span class="token keyword">from</span> table_name <span class="token keyword">where</span>è¯­å¥<span class="token punctuation">;</span>

mysql<span class="token operator">></span> <span class="token keyword">delete</span> <span class="token keyword">from</span> t3 <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span></code></pre></li>
<li><p>truncate è¡¨å;//æ¸…ç©ºè¡¨</p>
</li>
</ul>
<h3 id="çº§è”åˆ é™¤"><a href="#çº§è”åˆ é™¤" class="headerlink" title="çº§è”åˆ é™¤"></a>çº§è”åˆ é™¤</h3><p>ä½¿ç”¨çš„æ¯”è¾ƒå°‘,ä¸å®‰å…¨.ä¹Ÿå¯ä»¥ç”¨<em><strong>è§¦å‘å™¨</strong></em>æ¥ä»£æ›¿.</p>
<p>constraint t_ord_cid_fk foreign key(cid) references t_customer(id) <strong>ON DELETE CASCADE;</strong></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">drop table ords;
drop table cus;
create table cus(
	id int(7) primary key,
  cname varchar(20)
);

create table ords(
	id int(7) primary key,
  ordno varchar(20),
  cus_id int(7),
  constraint ords_cus_id_fk foreign key(cus_id) references cus(id) on delete cascade
);

insert into cus values(1,&#39;tom&#39;),(2,&#39;jack&#39;);

insert into ords values(1,&#39;1001&#39;,1);
insert into ords values(2,&#39;1002&#39;,1);

mysql&gt; delete from cus where id&#x3D;1;
Query OK, 1 row affected (0.00 sec)

è¿›è¡Œçº§è”åˆ é™¤çš„æ“ä½œ,æœ¬è´¨ä¸Šè¿˜æ˜¯å…ˆåˆ é™¤id&#x3D;1è¿™ä¸ªå®¢æˆ·çš„æ‰€æœ‰çš„è®¢å•ä¿¡æ¯ä¹‹å,å†å»è‡ªå·±.</code></pre>



<h1 id="äº‹åŠ¡-DTL"><a href="#äº‹åŠ¡-DTL" class="headerlink" title="äº‹åŠ¡(DTL)"></a>äº‹åŠ¡(DTL)</h1><p>åœ¨MYSQLä¸­,<em><strong>æ‰€æœ‰çš„DML(insert,update,delete)æ“ä½œ</strong></em>åœ¨æ‰§è¡Œä¹‹åéƒ½ä¼šæœ‰ä¸€ä¸ª<strong>commitæ“ä½œ</strong>[éšå¼çš„]</p>
<p>commitçš„æ„æ€å°±æ˜¯ç”¨æ¥<strong>æäº¤äº‹åŠ¡[ç»“æŸå½“å‰äº‹åŠ¡].</strong></p>
<p>oracleæ•°æ®åº“ä¸­æ‰§è¡Œæ‰€æœ‰çš„DMLæ“ä½œä¹‹å,æ˜¯éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ<em><strong>commit</strong></em><em><strong>æäº¤äº‹åŠ¡</strong></em>çš„æ“ä½œçš„.</p>
<p>è¡¥å……:å¦‚ä½•åŒºåˆ†DDL(create,alter,drop,<em><strong>truncate</strong></em>)å’ŒDML(insert,update,delete),çœ‹æ‰§è¡Œå®Œæ¯•ä¹‹å</p>
<p>æ˜¯å¦å¯ä»¥è¿›è¡Œå›æ»šæ“ä½œ(æ’¤é”€æ“ä½œ),å¦‚æœå¯ä»¥è¿›è¡Œäº‹åŠ¡çš„å›æ»š,å±äºDMLæ“ä½œ.</p>
<p><strong>DTL,æ•°æ®äº‹åŠ¡è¯­è¨€</strong></p>
<p><strong>äº‹åŠ¡çš„å®šä¹‰:</strong></p>
<p>å°±æ˜¯æŒ‡ä¸€ç»„<strong>ç›¸å…³çš„SQLæ“ä½œ</strong>,æˆ‘ä»¬æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯å¤„åœ¨äº‹åŠ¡ä¸­çš„.</p>
<p>æ§åˆ¶äº‹åŠ¡ - å°±æ˜¯æ§åˆ¶äº‹åŠ¡çš„è¾¹ç•Œ(äº‹åŠ¡çš„å¼€å§‹(begin) - äº‹åŠ¡çš„ç»“æŸ(commit,rollback))</p>
<p><em><strong>ä¸€ä¸ªäº‹åŠ¡çš„ç»“æŸ,ä»£è¡¨ç€ä¸‹ä¸€ä¸ªäº‹åŠ¡çš„å¼€å§‹.</strong></em></p>
<p><strong>æ³¨æ„:</strong></p>
<ol>
<li><p>åœ¨æ•°æ®åº“ä¸­**,æ‰§è¡Œä¸šåŠ¡çš„åŸºæœ¬å•ä½æ˜¯äº‹åŠ¡,ä¸æ˜¯ä»¥æŸä¸€æ¡SQL**</p>
</li>
<li><p>æ•°æ®åº“åœ¨é»˜è®¤æƒ…å†µä¸‹,äº‹åŠ¡éƒ½æ˜¯æ‰“å¼€çš„,ä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯ä¸€ç›´</p>
</li>
<li><p>å¤„åœ¨äº‹åŠ¡ä¸­çš„,ä¸€ä¸ªäº‹åŠ¡çš„ç»“æŸ,ä»£è¡¨ç€ä¸‹ä¸€ä¸ªäº‹åŠ¡çš„å¼€å¯</p>
</li>
<li><p>æ‰§è¡Œcommitæˆ–è€…rollbackæŒ‡ä»¤æ—¶,<strong>ä¼šç»“æŸå½“å‰äº‹åŠ¡</strong></p>
<p><strong>[å·²ç»æäº¤çš„äº‹åŠ¡å°†ä¸èƒ½å¤Ÿè¢«å›æ»š - å·²ç»ä¸å¤„äºåŒä¸€ä¸ªäº‹åŠ¡ä¸­äº†,è€Œäº‹åŠ¡ä¸äº‹åŠ¡ä¹‹é—´æ˜¯éš”ç¦»çš„]</strong></p>
</li>
</ol>
<p><strong>ä½œç”¨:ç”¨æ¥ä¿è¯æ•°æ®çš„å¹³ç¨³æ€§å’Œå¯é¢„æµ‹æ€§.</strong></p>
<p><strong>äº‹åŠ¡çš„å››å¤§ç‰¹æ€§(ACID):</strong></p>
<ol>
<li><p><strong>Atomicity,åŸå­æ€§</strong>,äº‹åŠ¡æ˜¯ä¸å¯å†åˆ†å‰²çš„,è¦ä¹ˆåŒæ—¶æˆåŠŸ,è¦ä¹ˆåŒæ—¶å¤±è´¥.</p>
<p>è½¬è´¦ä¸šåŠ¡(è´¦æˆ·+money,è´¦æˆ·-money - ä¸€ç»„sql - è‡³äºä¸€ä¸ªäº‹åŠ¡å½“ä¸­,å¹¶ä¸”è¦ä¿è¯åŸå­æ€§.)</p>
</li>
<li><p><strong>Consistency,ä¸€è‡´æ€§</strong>,äº‹åŠ¡ä¸€æ—¦ç»“æŸ,å†…å­˜ä¸­çš„æ•°æ®å’Œæ•°æ®åº“ä¸­çš„æ•°æ®æ˜¯ä¿æŒä¸€è‡´çš„</p>
<p>exampleï¼šAç”¨æˆ·å’ŒBç”¨æˆ·è¿›è¡Œè½¬è´¦1000å…ƒï¼ŒAè´¦æˆ·å‡å°‘1000å’ŒBè´¦æˆ·å¢åŠ 1000çš„sqlè¯­å¥å¿…é¡»å…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œä¸å­˜åœ¨ä¸€åŠæˆåŠŸï¼Œä¸€åŠå¤±è´¥ã€‚<br>ä½†æ˜¯æ— è®ºå¦‚ä½•æ‰§è¡Œï¼Œä¸¤ä¸ªè´¦æˆ·é‡‘é¢çš„æ”¹å˜åŠ èµ·æ¥ä¸€å®š1000å…ƒï¼Œ<strong>è¿™å°±æ˜¯ä¸€è‡´æ€§(å®Œæ•´æ€§)ã€‚</strong></p>
</li>
<li><p><strong>Isolation,éš”ç¦»æ€§</strong>,äº‹åŠ¡ä¹‹é—´äº’ä¸å¹²æ‰°,ä¸€å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“ï¼Œæ¯”å¦‚åŒæ—¶æ“ä½œä¸€å¼ è¡¨ã€‚æ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯äº‹åŠ¡ã€‚<strong>æ¯ä¸ªäº‹åŠ¡ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰°ã€‚</strong></p>
</li>
<li><p><strong>Durability,æŒä¹…æ€§</strong>,äº‹åŠ¡ä¸€æ—¦æäº¤,åˆ™æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­,<strong>æ°¸ä¹…ä¿å­˜</strong></p>
<p>[æ¶‰åŠåˆ°æ•°æ®åº“çš„å¤‡ä»½å’Œæ¢å¤çš„ä¸€äº›æŠ€æœ¯,å†·å¤‡ä»½,çƒ­å¤‡ä»½â€¦]</p>
</li>
</ol>
<h2 id="äº‹åŠ¡æ§åˆ¶è¯­å¥"><a href="#äº‹åŠ¡æ§åˆ¶è¯­å¥" class="headerlink" title="äº‹åŠ¡æ§åˆ¶è¯­å¥"></a>äº‹åŠ¡æ§åˆ¶è¯­å¥</h2><p>DTL - äº‹åŠ¡æ§åˆ¶è¯­è¨€.</p>
<ol>
<li><p><strong>BEGINæˆ–START TRANSACTION</strong>ï¼›æ˜¾å¼åœ°å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼›</p>
</li>
<li><p><strong>COMMITï¼›</strong>ä¹Ÿå¯ä»¥ä½¿ç”¨COMMIT WORKï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚COMMITä¼šæäº¤äº‹åŠ¡ï¼Œå¹¶ä½¿å·²å¯¹æ•°æ®åº“è¿›è¡Œçš„æ‰€æœ‰ä¿®æ”¹æˆä¸ºæ°¸ä¹…æ€§çš„ï¼›</p>
</li>
<li><p><strong>ROLLBACKï¼›</strong>æœ‰å¯ä»¥ä½¿ç”¨ROLLBACK WORKï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚å›æ»šä¼šç»“æŸç”¨æˆ·çš„äº‹åŠ¡ï¼Œå¹¶æ’¤é”€æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹ï¼›</p>
</li>
<li><p>SAVEPOINT identifierï¼›SAVEPOINTå…è®¸åœ¨äº‹åŠ¡ä¸­åˆ›å»ºä¸€ä¸ªä¿å­˜ç‚¹ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­å¯ä»¥æœ‰å¤šä¸ªSAVEPOINTï¼›</p>
</li>
<li><p>RELEASE SAVEPOINT identifierï¼›åˆ é™¤ä¸€ä¸ªäº‹åŠ¡çš„ä¿å­˜ç‚¹ï¼Œå½“æ²¡æœ‰æŒ‡å®šçš„ä¿å­˜ç‚¹æ—¶ï¼Œæ‰§è¡Œè¯¥è¯­å¥ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼›</p>
</li>
<li><p>ROLLBACK TO identifierï¼›æŠŠäº‹åŠ¡å›æ»šåˆ°æ ‡è®°ç‚¹ï¼›</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- æµ‹è¯•
mysql&gt; begin;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; update account set balance&#x3D;balance+1000 where id&#x3D;1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; update account set balance&#x3D;balance+1000 where id&#x3D;1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; savepoint ss1;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; update account set balance&#x3D;balance+1000 where id&#x3D;1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; update account set balance&#x3D;balance+1000 where id&#x3D;1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; rollback to ss1;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; select * from account;
+----+---------+
| id | balance |
+----+---------+
|  1 | 8000.00 |
|  2 | 5000.00 |
+----+---------+
2 rows in set (0.00 sec)</code></pre></li>
<li><p>SET TRANSACTIONï¼›ç”¨æ¥è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚InnoDBå­˜å‚¨å¼•æ“æä¾›äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰<em><strong>READ UNCOMMITTEDã€READ COMMITTEDã€REPEATABLE READå’ŒSERIALIZABLEã€‚</strong></em></p>
</li>
</ol>
<h2 id="MYSQL-äº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•"><a href="#MYSQL-äº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•" class="headerlink" title="MYSQL äº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•"></a>MYSQL äº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•</h2><ol>
<li><p>ç”¨ BEGIN, ROLLBACK, COMMITæ¥å®ç°</p>
<p>1-1. <strong>BEGIN å¼€å§‹ä¸€ä¸ªäº‹åŠ¡</strong></p>
<p>1-2. <strong>start transaction - æ‰‹åŠ¨å¼€å§‹ä¸€ä¸ªäº‹åŠ¡</strong></p>
</li>
</ol>
<p>1-2. ROLLBACK äº‹åŠ¡å›æ»š<br>    1-3. COMMIT äº‹åŠ¡ç¡®è®¤</p>
<ol start="2">
<li><p>ç›´æ¥ç”¨ SET æ¥æ”¹å˜ MySQL çš„è‡ªåŠ¨æäº¤æ¨¡å¼: </p>
<p>2-1. <strong>SET AUTOCOMMIT=0 ç¦æ­¢è‡ªåŠ¨æäº¤</strong></p>
<p>2-2. SET AUTOCOMMIT=1 å¼€å¯è‡ªåŠ¨æäº¤</p>
<p>æ³¨æ„:è®¾ç½®æˆç¦æ­¢è‡ªåŠ¨æäº¤çš„æ“ä½œçš„è¯,è¿™ä¸ªæ“ä½œä»…ä»…æ˜¯é’ˆå¯¹å½“å‰çš„ä¼šè¯çª—å£æœ‰æ•ˆ.</p>
</li>
</ol>
<h2 id="äº‹åŠ¡çš„å‘½ä»¤çš„æ¼”ç¤ºDTL"><a href="#äº‹åŠ¡çš„å‘½ä»¤çš„æ¼”ç¤ºDTL" class="headerlink" title="äº‹åŠ¡çš„å‘½ä»¤çš„æ¼”ç¤ºDTL"></a>äº‹åŠ¡çš„å‘½ä»¤çš„æ¼”ç¤ºDTL</h2><p>DTL - Data Transaction Language - æ•°æ®äº‹åŠ¡è¯­è¨€ - commit,begin,rollback</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- mysqlä¸­äº‹åŠ¡æ˜¯é»˜è®¤è‡ªåŠ¨æäº¤çš„.
create table account(
	 id int(7) primary key,
   balance double(7,2)
);
insert into account values(1,5000.0);
insert into account values(2,5000.0);</code></pre>

<h3 id="ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨äº‹åŠ¡"><a href="#ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨äº‹åŠ¡" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨äº‹åŠ¡"></a>ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨äº‹åŠ¡</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">--</span> çº§è”åˆ é™¤<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

javaä»£ç ä¸­

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token comment">//ä¿©ä¸ªæ“ä½œæ˜¯éœ€è¦ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ - äº‹åŠ¡è¦ä¹ˆåŒæ—¶æˆåŠŸ,è¦ä¹ˆåŒæ—¶å¤±è´¥.</span>
  
   <span class="token keyword">try</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">"delete from ords where cus_id=1"</span><span class="token punctuation">;</span>
  
    <span class="token comment">// mysqläº‹åŠ¡é»˜è®¤æ˜¯è‡ªåŠ¨</span>
    <span class="token comment">// æ‰§è¡Œstr2çš„sqlè¯­å¥ - å¦‚æœäº‹åŠ¡æ˜¯è‡ªåŠ¨æäº¤çš„ - æ•°æ®å·²ç»å‘ç”Ÿæ”¹å˜äº†.</span>
  
  	<span class="token comment">//å…¶ä»–ä»£ç .. -> å‘ç”Ÿäº†æ„å¤– - å‘ç”Ÿäº†å¼‚å¸¸</span>
    <span class="token comment">//ä¸€æ—¦æ­¤è¡Œå‘ç”Ÿäº†å¼‚å¸¸,ä¸‹é¢çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œäº†...</span>
  
		<span class="token class-name">String</span> str<span class="token operator">=</span><span class="token string">"delete from cus where id=1"</span><span class="token punctuation">;</span>
   <span class="token comment">// æ‰§è¡Œstrçš„sqlè¯­å¥</span>
   <span class="token comment">// æ›´æ–°db</span>
   <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
     
     <span class="token comment">//ä¸€æ—¦tryæ‹¬å·ä¸­å‡ºç°äº†å¼‚å¸¸,é‚£ä¹ˆå°±ä¼šè‡ªåŠ¨è¿›å…¥åˆ°catchå—ä¸­å»æ‰§è¡Œ</span>
     <span class="token comment">//äº‹åŠ¡çš„å›æ»š,äº‹åŠ¡çš„æ’¤é”€ - å‰æä¸€å®šæ˜¯æ‰‹åŠ¨æäº¤çš„</span>
   <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>


<span class="token operator">--</span> rollbackæ˜¯ä¸èƒ½å¤Ÿæ’¤é”€å·²ç»æäº¤çš„äº‹åŠ¡<span class="token punctuation">,</span>ä½†æ˜¯å¯ä»¥æ’¤é”€å°šæœªæäº¤çš„äº‹åŠ¡<span class="token punctuation">.</span>
           ä¹Ÿæ˜¯ç”¨æ¥ç»“æŸå½“å‰äº‹åŠ¡çš„<span class="token punctuation">.</span></code></pre>



<h2 id="å¤šäº‹åŠ¡çš„å¹¶å‘å¤„ç†æœºåˆ¶"><a href="#å¤šäº‹åŠ¡çš„å¹¶å‘å¤„ç†æœºåˆ¶" class="headerlink" title="å¤šäº‹åŠ¡çš„å¹¶å‘å¤„ç†æœºåˆ¶"></a>å¤šäº‹åŠ¡çš„å¹¶å‘å¤„ç†æœºåˆ¶</h2><p>åŸå› :å¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œä¸€ä¸ªè¡¨ä¸­çš„<strong>åŒä¸€è¡Œæ•°æ®(äº‰æŠ¢ä¸´ç•Œèµ„æº)</strong>,å¦‚æœè¿™äº›æ“ä½œæ˜¯.ä¿®æ”¹æ“ä½œçš„è¯,å°±ä¼šäº§ç”Ÿå¹¶å‘é—®é¢˜,å¦‚æœä¸å¤„ç†,åˆ™ä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µ.</p>
<p>æ•°æ®åº“å¯èƒ½äº§ç”Ÿçš„å¹¶å‘é—®é¢˜åŒ…æ‹¬:</p>
<blockquote>
<ol>
<li><code>è„è¯»</code></li>
</ol>
<p> ç®€ä»‹:ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸­å°šæœªæäº¤çš„æ•°æ®.</p>
<blockquote>
<p>æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨è®¿é—®æ•°æ®,å¹¶ä¸”å¯¹è¿™ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹,è€Œè¿™ç§ä¿®æ”¹<br>è¿˜æ²¡æœ‰æäº¤åˆ°æ•°æ®åº“ä¸­,è€Œå¦ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®äº†è¿™ä¸ªæ•°æ®,å¹¶ä¸”ä½¿ç”¨äº†è¿™ä¸ªæ•°æ®<br>è§£å†³æ–¹æ³•:ä¸€ä¸ªäº‹åŠ¡åœ¨ä¿®æ”¹æ•°æ®æ—¶,è¯¥æ•°æ®ä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡è®¿é—®</p>
</blockquote>
</blockquote>
<blockquote>
<ol start="2">
<li><code>ä¸å¯é‡å¤è¯»</code></li>
</ol>
<blockquote>
<p>æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡å¤šæ¬¡è¯»å–åŒä¸€æ¡è®°å½•,å¦‚æœæ­¤æ—¶å¦ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®å¹¶ä¸”<br>ä¿®æ”¹äº†è¯¥æ•°æ®,åˆ™å°±ä¼šå‡ºç°å¤šæ¬¡è¯»å–å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µ,åŸæ¥çš„<br>æ•°æ®å˜æˆäº†ä¸å¯é‡å¤è¯»å–çš„æ•°æ®<br>è§£å†³æ–¹æ³•:åªæœ‰åœ¨ä¿®æ”¹äº‹åŠ¡å®Œå…¨æäº¤è¿‡åæ‰å¯ä»¥è¯»å–åˆ°æ•°æ®</p>
</blockquote>
</blockquote>
<blockquote>
<ol start="3">
<li><code>å¹»è¯»</code></li>
</ol>
<blockquote>
<p>æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹è¡¨ä¸­çš„å¤šè¡Œè®°å½•,ä½†æ˜¯æ­¤æ—¶å¦ä¸€ä¸ªäº‹åŠ¡å¯¹è¯¥è¡¨æ ¼è¿›è¡Œ<br>äº†æ’å…¥æ•°æ®çš„æ“ä½œ,åˆ™ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¼šå‘ç°è¡¨æ ¼ä¸­ä¼šå‡ºç°æ²¡æœ‰è¢«ä¿®æ”¹çš„è¡Œ<br>å°±åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·<br>è§£å†³æ–¹æ³•:åœ¨ä¸€ä¸ªäº‹åŠ¡æäº¤æ•°æ®ä¹‹å‰,å…¶ä»–äº‹åŠ¡ä¸èƒ½æ·»åŠ æ•°æ®</p>
</blockquote>
</blockquote>
<p><strong>ä¸å¯é‡å¤è¯»çš„é‡ç‚¹æ˜¯ä¿®æ”¹ï¼ŒåŒæ ·çš„æ¡ä»¶ï¼Œä½ è¯»å–è¿‡çš„æ•°æ®ï¼Œå†æ¬¡è¯»å–å‡ºæ¥å‘ç°å€¼ä¸ä¸€æ ·äº†å¹»è¯»çš„é‡ç‚¹åœ¨äºæ–°å¢æˆ–è€…åˆ é™¤</strong></p>
<h2 id="äº‹åŠ¡éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡éš”ç¦»çº§åˆ«</h2><blockquote>
<ol>
<li>READ UNCOMMITTED - è¯»æœªæäº¤</li>
</ol>
<blockquote>
<p>è¿™æ˜¯äº‹åŠ¡æœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œå®ƒå……è®¸å¦å¤–ä¸€ä¸ªäº‹åŠ¡å¯ä»¥çœ‹åˆ°è¿™ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚<br>è§£å†³ç¬¬ä¸€ç±»ä¸¢å¤±æ›´æ–°çš„é—®é¢˜ï¼Œä½†æ˜¯ä¼šå‡ºç°è„è¯»ã€ä¸å¯é‡å¤è¯».</p>
</blockquote>
</blockquote>
<blockquote>
<ol start="2">
<li>READ COMMITTED</li>
</ol>
<blockquote>
<p>ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®æäº¤åæ‰èƒ½è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡è¯»å–ï¼Œå³å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸èƒ½è¯»å–è¯¥äº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚<br>è§£å†³ç¬¬ä¸€ç±»ä¸¢å¤±æ›´æ–°å’Œè„è¯»çš„é—®é¢˜ï¼Œä½†ä¼šå‡ºç°ä¸å¯é‡å¤è¯».</p>
</blockquote>
</blockquote>
<blockquote>
<ol start="3">
<li>REPEATABLE READ</li>
</ol>
<p> ç®€ä»‹:mysqlé»˜è®¤çš„äº‹åŠ¡çš„éš”ç¦»çº§åˆ«.</p>
<blockquote>
<p>ä¿è¯ä¸€ä¸ªäº‹åŠ¡ç›¸åŒæ¡ä»¶ä¸‹å‰åä¸¤æ¬¡è·å–çš„æ•°æ®æ˜¯ä¸€è‡´çš„<br>è§£å†³ç¬¬ä¸€ç±»ä¸¢å¤±æ›´æ–°ï¼Œè„è¯»ã€ä¸å¯é‡å¤è¯».</p>
</blockquote>
</blockquote>
<blockquote>
<ol start="4">
<li>SERIALIZABLE</li>
</ol>
<blockquote>
<p>äº‹åŠ¡è¢«å¤„ç†ä¸ºé¡ºåºæ‰§è¡Œã€‚è§£å†³æ‰€æœ‰é—®é¢˜ - æœ‰ç‚¹ç±»ä¼¼äº<strong>é”è¡¨.</strong></p>
</blockquote>
<blockquote>
<p>æ€§èƒ½åŠå…¶ä½ä¸‹.</p>
</blockquote>
</blockquote>
<p><strong>æé†’ï¼š</strong><br><strong>Mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºrepeatable_read</strong></p>
<h2 id="éš”ç¦»çº§åˆ«çš„æ¼”ç¤º"><a href="#éš”ç¦»çº§åˆ«çš„æ¼”ç¤º" class="headerlink" title="éš”ç¦»çº§åˆ«çš„æ¼”ç¤º"></a>éš”ç¦»çº§åˆ«çš„æ¼”ç¤º</h2><h2 id="å›¾ç¤º"><a href="#å›¾ç¤º" class="headerlink" title="å›¾ç¤º"></a>å›¾ç¤º</h2><ul>
<li><p>è¯»æœªæäº¤ - äº§ç”Ÿè„è¯»</p>
<p>ä¸€ä¸ªäº‹åŠ¡èƒ½å¤Ÿè¯»å–åˆ°å¦å¤–ä¸€ä¸ªäº‹åŠ¡å°šæœªæäº¤çš„æ•°æ®.</p>
<p><img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/zang.png" loading="lazy"></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- è®¾ç½®å½“å‰çš„ä¼šè¯çª—å£çš„mysqlçš„äº‹åŠ¡çš„éš”ç¦»çº§åˆ«è®¾ç½®è¯»æœªæäº¤.</span>
<span class="token comment">-- read uncommitted ä¸€ä¸ªäº‹åŠ¡å¯ä»¥è¯»å–åˆ°å¦å¤–ä¸€ä¸ªäº‹åŠ¡å°šæœªæäº¤çš„æ•°æ® - "è„è¯»"</span>
<span class="token comment">-- dbä¸­sessionä»£è¡¨çš„æ˜¯ä¸€æ¬¡ä¼šè¯,mysql-clientå’Œmysql-serverè¿›è¡Œä¸€æ¬¡è¿æ¥</span>
mysql<span class="token operator">></span><span class="token keyword">set</span> <span class="token keyword">session</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> <span class="token keyword">read</span> <span class="token keyword">uncommitted</span><span class="token punctuation">;</span>
mysql<span class="token operator">></span><span class="token keyword">select</span> @<span class="token variable">@tx_isolation</span><span class="token punctuation">;</span>

å†æ‰“å¼€ä¸€ä¸ªçª—å£
mysql<span class="token operator">></span><span class="token keyword">set</span> <span class="token keyword">session</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> <span class="token keyword">read</span> <span class="token keyword">uncommitted</span><span class="token punctuation">;</span></code></pre></li>
<li><p>è¯»å·²æäº¤ - ä¸å¯é‡å¤è¯»(åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¤šæ¬¡è¯»å–åˆ°çš„æ•°æ®ä¸ä¸€æ ·)</p>
<ul>
<li><p>ä¸å¯é‡å¤è¯» - ä¾§é‡äºä¸€ä¸ªäº‹åŠ¡åœ¨å¤šæ¬¡è¯»åŒä¸€ä¸ªæ•°æ®,å¦å¤–ä¸€ä¸ªäº‹åŠ¡åœ¨è¿›è¡Œ<strong>ä¿®æ”¹å¹¶ä¸”æäº¤äº†</strong></p>
<p><em><strong>ä¸å¯é‡å¤è¯»</strong></em> - ä¸€ä¸ªäº‹åŠ¡åœ¨<em><strong>è¯»</strong></em>,å¦å¤–ä¸€ä¸ªäº‹åŠ¡åœ¨<em><strong>ä¿®æ”¹.</strong></em></p>
<p><img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/bu.png" loading="lazy"></p>
</li>
<li><p>å¹»è¯» - ä¸€ä¸ªäº‹åŠ¡åœ¨è¿›è¡Œ<strong>æ›´æ–°æ“ä½œ</strong>,å¦å¤–ä¸€ä¸ªäº‹åŠ¡åœ¨è¿›è¡Œ<strong>æ–°å¢æˆ–è€…åˆ é™¤</strong>å¹¶ä¸”æäº¤äº†.</p>
<p>å¯¹äºæ›´æ–°çš„äº‹åŠ¡è€Œè¨€,å°±åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·. ä¾§<strong>é‡æ–°å¢æˆ–è€…åˆ é™¤.</strong></p>
<p><img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/huan.png" loading="lazy"></p>
</li>
</ul>
</li>
<li><p>å¯é‡å¤è¯»</p>
<p><em><strong>åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¤š</strong></em>æ¬¡è¯»å–åˆ°çš„æ•°æ®æ˜¯ä¸€æ ·çš„.</p>
<p><img src="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/rep.png" loading="lazy"></p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- è¿™ä¹Ÿæ˜¯mysqlé»˜è®¤çš„äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</span>
mysql<span class="token operator">></span><span class="token keyword">set</span> <span class="token keyword">session</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> <span class="token keyword">repeatable</span> <span class="token keyword">read</span><span class="token punctuation">;</span></code></pre></li>
<li><p>ä¸²è¡ŒåŒ–</p>
<p>å±äºéš”ç¦»çº§åˆ«æ˜¯æœ€é«˜çš„,æ•ˆç‡æ˜¯æœ€ä½çš„ - <em><strong>â€œé”è¡¨â€</strong></em> - ä¿è¯æ•°æ®çš„å®Œæ•´æ€§(å¤šå¹¶å‘)</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;set session transaction isolation level serializable;
ä¸€ä¸ªäº‹åŠ¡åœ¨æŸ¥è¯¢,å¦å¤–ä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œdmlæ“ä½œ(é˜»å¡çŠ¶æ€),å› ä¸ºç¬¬ä¸€ä¸ªäº‹åŠ¡ç›¸å½“äº&quot;é”è¡¨&quot;</code></pre></li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><table>
<thead>
<tr>
<th>äº‹åŠ¡éš”ç¦»çº§åˆ«</th>
<th>è„è¯»</th>
<th>ä¸å¯é‡å¤è¯»</th>
<th>å¹»è¯»</th>
</tr>
</thead>
<tbody><tr>
<td>è¯»æœªæäº¤(read uncommitted)</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
</tr>
<tr>
<td>è¯»å·²æäº¤-(read committed)  - ä¸å¯é‡å¤è¯»</td>
<td>Ã—</td>
<td>âˆš</td>
<td>âˆš</td>
</tr>
<tr>
<td>å¯é‡å¤è¯»(repeatable read)</td>
<td>Ã—</td>
<td>Ã—</td>
<td>âˆš</td>
</tr>
<tr>
<td>ä¸²è¡ŒåŒ–(serializable)</td>
<td>Ã—</td>
<td>Ã—</td>
<td>Ã—</td>
</tr>
</tbody></table>
<p>æ¡†æ¶ - mybatis[æŒä¹…å±‚æ¡†æ¶],hibernate</p>
<p>Springå…¨å®¶æ¡¶ - Spring,SpringMVC,SpringBoot,Alibaba Spring Cloud,SpringDataJPA,Spring Securityâ€¦</p>
<p>ä½¿ç”¨,æ¡†æ¶çš„åº•å±‚ä»£ç ä»¥åŠè®¾è®¡æ€æƒ³ - corejavaæ ¸å¿ƒ</p>
<h1 id="è§†å›¾View"><a href="#è§†å›¾View" class="headerlink" title="è§†å›¾View"></a>è§†å›¾View</h1><p>æ•°æ®çš„åŸºæœ¬å¯¹è±¡:table,index,view,<em><strong>å‡½æ•°,å­˜å‚¨è¿‡ç¨‹</strong></em></p>
<p>è§†å›¾çš„æœ¬è´¨æ˜¯ä¸€å¼ **â€è™šæ‹Ÿè¡¨â€** , å®é™…ä¸Šå°±æ˜¯ä¸€æ¡ç®€å•çš„æˆ–è€…å¤æ‚çš„sql.è§†å›¾å°±æ˜¯å¯¹æŸ¥è¯¢è¯­å¥çš„å°è£….</p>
<p>è§†å›¾çš„åˆ†ç±»:</p>
<ul>
<li>ç®€å•è§†å›¾ - è§†å›¾æ¥è‡ªäºå•å¼ è¡¨çš„æŸ¥è¯¢ - æ”¯æŒDMLæ“ä½œ</li>
<li>å¤æ‚è§†å›¾ - è§†å›¾æ¥è‡ªäºå¤šå¼ è¡¨çš„å…³è”æŸ¥è¯¢ - ä¸æ”¯æŒDMLæ“ä½œ</li>
</ul>
<p>è§†å›¾çš„å¥½å¤„:</p>
<ul>
<li>ä¿è¯ä¸€äº›æ•°æ®çš„å®‰å…¨æ€§.</li>
<li>ä¿è¯æ•°æ®çš„æ¸…æ™°çš„ç»“æ„,å»é™¤ä¸€äº›å†—ä½™çš„ä¸éœ€è¦çš„ä¸€äº›æ•°æ®.</li>
<li>å°è£…ä¸€äº›å¤æ‚çš„å…³è”æŸ¥è¯¢ - å¤šæ¬¡è¿›è¡Œè°ƒç”¨.</li>
</ul>
<h2 id="åˆ›å»ºè§†å›¾çš„è¯­æ³•"><a href="#åˆ›å»ºè§†å›¾çš„è¯­æ³•" class="headerlink" title="åˆ›å»ºè§†å›¾çš„è¯­æ³•"></a>åˆ›å»ºè§†å›¾çš„è¯­æ³•</h2><pre class="language-mysql" data-language="mysql"><code class="language-mysql">create view è§†å›¾åç§°
as selectè¯­å¥;

åˆ é™¤è§†å›¾
drop view è§†å›¾çš„åç§°

æŸ¥è¯¢è§†å›¾
select * from è§†å›¾åç§°;</code></pre>

<pre class="language-mysql" data-language="mysql"><code class="language-mysql">create view emp_view
as select id,name,start_date from emp;

select * from emp_view;

-- æ›´æ–°åŸè¡¨emp,çœ‹æ˜¯å¦å¯¹è§†å›¾emp_viewäº§ç”Ÿå½±å“
update emp set name &#x3D; &#39;aaa&#39; where id&#x3D;1;
-- æŸ¥è¯¢è§†å›¾(&quot;é•œåƒ&quot;)
select * from emp_view;

-- ç»“è®º1 - ä¿®æ”¹åŸè¡¨,å¯¹è§†å›¾é€ æˆå½±å“

-- æ›´æ–°è§†å›¾ - ç®€å•è§†å›¾æ”¯æŒDMLæ“ä½œ
update emp_view set name &#x3D; &#39;å°å°&#39; where id &#x3D; 1;
-- æŸ¥çœ‹åŸæ¥çš„è¡¨
select * from emp;

-- ç»“è®º2: æ›´æ–°è§†å›¾,ä¹Ÿä¼šå¯¹åŸè¡¨äº§ç”Ÿå½±å“.

-- å…³äºè§†å›¾çš„æŸ¥è¯¢,DMLæ“ä½œå’Œå¯¹tableçš„æ“ä½œä¸€æ¨¡ä¸€æ ·.</code></pre>

<h2 id="with-check-option"><a href="#with-check-option" class="headerlink" title="with check option"></a>with check option</h2><p>ç¦æ­¢æ›´æ–°è§†å›¾çš„æ—¶å€™,å»updateå®ƒçš„æ¥æºçš„åŸè¡¨çš„æ¡ä»¶åˆ—.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- åˆ é™¤è§†å›¾
drop view emp_view;
-- åˆ›å»ºè§†å›¾
create view emp_view
as select id,name,start_date from emp where id&#x3D;1;
-- æŸ¥è¯¢è§†å›¾
mysql&gt; select * from emp_view;
+----+--------+------------+
| id | name   | start_date |
+----+--------+------------+
|  1 | å°å°   | 2020-08-24 |
+----+--------+------------+
1 row in set (0.00 sec)

-- æ›´æ–°è§†å›¾
update emp_view set id &#x3D; 10 where id&#x3D;1;

mysql&gt; select * from emp_view;
Empty set (0.00 sec)</code></pre>

<pre class="language-mysql" data-language="mysql"><code class="language-mysql">with check optionä¸€å®šæ˜¯é…åˆwhereè¯­å¥ä½¿ç”¨.
å¦‚æœåˆ›å»ºè§†å›¾çš„æ—¶å€™æ²¡æœ‰å‡ºç°whereè¯­å¥,å°±æ²¡æœ‰å¿…è¦å‡ºç°å®ƒ.

-- åˆ é™¤è§†å›¾
drop view emp_view;
-- åˆ›å»ºè§†å›¾
create view emp_view
as select id,name,start_date from emp where id&#x3D;1 with check option;

-- æ›´æ–°è§†å›¾ - ç¦æ­¢æ›´æ–°è§†å›¾ä¸­çš„è§†å›¾æ¥æºçš„selectè¯­å¥çš„æ¡ä»¶åˆ—
update emp_view set id &#x3D; 10 where id&#x3D;1;
ERROR 1369 (HY000): CHECK OPTION failed &#39;j08.emp_view&#39;</code></pre>



<h2 id="å¤æ‚è§†å›¾"><a href="#å¤æ‚è§†å›¾" class="headerlink" title="å¤æ‚è§†å›¾"></a>å¤æ‚è§†å›¾</h2><p>å¤æ‚è§†å›¾:è§†å›¾æ¥æºäºå¤šè¡¨æŸ¥è¯¢,<em><strong>ä¸æ”¯æŒDMLæ“ä½œçš„</strong></em></p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">create view emp_dept_region
as select d.id,d.name,r.name åŒºåŸŸå from s_dept d join s_region r on d.region_id &#x3D; r.id where r.name&#x3D;&#39;Asia&#39;;

mysql&gt; select * from emp_dept_region;
+----+------------+-----------+
| id | name       | åŒºåŸŸå    |
+----+------------+-----------+
| 44 | Operations | Asia      |
| 34 | Sales      | Asia      |
+----+------------+-----------+
2 rows in set (0.00 sec)</code></pre>



<h1 id="limitè¯­å¥"><a href="#limitè¯­å¥" class="headerlink" title="limitè¯­å¥"></a>limitè¯­å¥</h1><p>é¡¹ç›®ä¸­åªè¦æ¶‰åŠåˆ°æŸ¥è¯¢çš„ä¸šåŠ¡ - æ¶‰åŠåˆ°åˆ†é¡µçš„ä¸šåŠ¡.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">select * from s_emp limit 5;&#x2F;&#x2F;å‰5è¡Œçš„æ•°æ®

limit m,n  mä»0å¼€å§‹,ç¬¬ä¸€è¡Œ,nå–å¤šå°‘æ¡å‡ºæ¥.
select * from s_emp limit 0,2;&#x2F;&#x2F;ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œ</code></pre>

<pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> pageNow<span class="token punctuation">,</span><span class="token class-name">Integer</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token comment">//ä¼ªä»£ç </span>
  
  <span class="token comment">//1,3</span>
  
  <span class="token comment">//ç¬¬ä¸€è¡Œ~ç¬¬ä¸‰è¡Œæ•°æ®, limit 0,3</span>
  
  <span class="token comment">//pageNow = 2, pageSize=3</span>
  <span class="token comment">//ç¬¬ä¸€é¡µ limit 0,3</span>
  <span class="token comment">//ç¬¬äºŒé¡µ limit 3,3</span>
  
  <span class="token comment">//limit (pageNow-1)*pageSize,pageSize;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h2 id="limitè¯­å¥çš„æ€§èƒ½é—®é¢˜"><a href="#limitè¯­å¥çš„æ€§èƒ½é—®é¢˜" class="headerlink" title="limitè¯­å¥çš„æ€§èƒ½é—®é¢˜."></a>limitè¯­å¥çš„æ€§èƒ½é—®é¢˜.</h2><p>sqlä¼˜åŒ–æ“ä½œ.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">select * from xx where name &#x3D; &#39;xxx&#39;;&#x2F;&#x2F;å…¨è¡¨æ‰«æ.
å¦‚æœnameæ˜¯ä¸€ä¸ªå”¯ä¸€æ€§çš„å€¼.

select * from xx where name &#x3D; &#39;xxx&#39; limit 1;&#x2F;&#x2F;é¿å…å…¨è¡¨æ‰«æäº†.</code></pre>

<pre class="language-mysql" data-language="mysql"><code class="language-mysql">åç§»é‡å¦‚æœè¿‡å¤§,ä¼šå¯¼è‡´limitè¯­å¥æ€§èƒ½æå…¶ä½ä¸‹
select * from xxx limit 100000,5;


select * from xxx where id&gt;100000 limit 5;</code></pre>





<h1 id="ç»å…¸é¢˜"><a href="#ç»å…¸é¢˜" class="headerlink" title="ç»å…¸é¢˜"></a>ç»å…¸é¢˜</h1><pre class="language-mysql" data-language="mysql"><code class="language-mysql">drop table purcase;
drop table customer;
drop table product;

create table product(
	  productid int(12) primary key,
	  productname varchar(20) not null,
	  unitprice double(11,2),
	  category varchar(28),
	  provider varchar(48)
);

create table customer(
		customerid int(12) primary key,
		name varchar(48),
		location varchar(128)
);

create table purcase(
		customerid int(12),
		productid int(12),
		quantity int(7)
);

insert into product values(1,&#39;ä½³æ´å£«&#39;,8.00,&#39;ç‰™è†&#39;,&#39;å®æ´&#39;);
insert into product values(2,&#39;é«˜éœ²æ´&#39;,6.50,&#39;ç‰™è†&#39;,&#39;é«˜éœ²æ´&#39;);
insert into product values(3,&#39;æ´è¯º&#39;,5.00,&#39;ç‰™è†&#39;,&#39;è”åˆåˆ©å&#39;);
insert into product values(4,&#39;èˆ’è‚¤ä½³&#39;,3.00,&#39;é¦™çš‚&#39;,&#39;å®æ´&#39;);
insert into product values(5,&#39;å¤å£«è²&#39;,5.00,&#39;é¦™çš‚&#39;,&#39;è”åˆåˆ©å&#39;);
insert into product values(6,&#39;é›•ç‰Œ&#39;,2.50,&#39;æ´—è¡£ç²‰&#39;,&#39;çº³çˆ±æ–¯&#39;);
insert into product values(7,&#39;ä¸­å&#39;,3.50,&#39;ç‰™è†&#39;,&#39;è”åˆåˆ©å&#39;);
insert into product values(8,&#39;æ±°æ¸&#39;,3.00,&#39;æ´—è¡£ç²‰&#39;,&#39;å®æ´&#39;);
insert into product values(9,&#39;ç¢§æµª&#39;,4.00,&#39;æ´—è¡£ç²‰&#39;,&#39;å®æ´&#39;);

insert into customer values(1,&#39;Dennis&#39;,&#39;é»„æµ¦åŒº&#39;);
insert into customer values(2,&#39;John&#39;,&#39;å¾å®¶æ±‡&#39;);
insert into customer values(3,&#39;Tom&#39;,&#39;é—¸åŒ—&#39;);
insert into customer values(4,&#39;Jenny&#39;,&#39;é™å®‰&#39;);
insert into customer values(5,&#39;Rick&#39;,&#39;æµ¦ä¸œ&#39;);

insert into purcase values(1,1,3);
insert into purcase values(1,5,2);
insert into purcase values(1,8,2);
insert into purcase values(2,1,5);
insert into purcase values(2,5,4);
insert into purcase values(2,8,3);
insert into purcase values(3,1,1);
insert into purcase values(3,5,1);
insert into purcase values(3,6,3);
insert into purcase values(3,8,1);
insert into purcase values(4,1,7);
insert into purcase values(4,5,3);
insert into purcase values(4,8,3);
insert into purcase values(5,6,2);
insert into purcase values(5,7,8);

commit;

æ±‚è´­ä¹°çš„å•†å“åŒ…å«äº†é¡¾å®¢&quot;Dennis&quot;æ‰€è´­ä¹°çš„æ‰€æœ‰å•†å“çš„é¡¾å®¢ï¼ˆå§“åï¼‰
-- æ±‚é€‰çš„è¯¾ç¨‹åŒ…å«äº†å­¦ç”Ÿ&quot;Dennis&quot;æ‰€é€‰çš„æ‰€æœ‰è¯¾ç¨‹çš„å­¦ç”Ÿ

-- æ‰¾å‡ºDennisè´­ä¹°çš„å•†å“çš„id
mysql&gt; select pur.productid aid from purcase pur join customer c on c.customerid &#x3D; pur.customerid where c.name&#x3D;&#39;Dennis&#39;;

-- æ¨¡æ‹Ÿä»»æ„ä¸€ä¸ªé¡¾å®¢è´­ä¹°çš„å•†å“çš„id
-- 5é¡¾å®¢ä¸æ˜¯ç›®æ ‡å®¢æˆ·
mysql&gt; select p1.productid bid from purcase p1 where p1.customerid&#x3D;5;


-- 3 ç›®æ ‡å®¢æˆ·
mysql&gt; select p1.productid bid from purcase p1 where p1.customerid&#x3D;3;

-- ç¡®å®šçš„å°±æ˜¯(1,5,8)æ¯ä¸ªå•†å“idæ˜¯å¦å­˜åœ¨å¦å¤–ä¸€ä¸ªå®¢æˆ·çš„(n1,n2,n3....)

mysql&gt; select 1 from(select pur.productid aid from purcase pur join customer c on c.customerid &#x3D; pur.customerid where c.name&#x3D;&#39;Dennis&#39;) core_ where core_.aid not in(
	select p1.productid bid from purcase p1 where p1.customerid&#x3D;3
)

-- è¿›ä¸€æ­¥çš„æ•´åˆ
mysql&gt; select c1.name from customer c1 where not exists(
					select 1 from(select pur.productid aid from purcase pur join customer c on 	  	c.customerid &#x3D; pur.customerid where c.name&#x3D;&#39;Dennis&#39;) core_ where core_.aid not in(
	select p1.productid bid from purcase p1 where p1.customerid&#x3D;c1.customerid
)
			) and c1.name&lt;&gt;&#39;Dennis&#39;;


-- æ€è·¯: Dennisè´­ä¹°çš„å•†å“çš„idå…¨éƒ¨æ‰¾å‡ºæ¥(1,5,8)å½“ä¸­.

-- å¦‚ä½•ç¡®å®šå¦å¤–ä¸€ä¸ªé¡¾å®¢æ˜¯ç›®æ ‡å®¢æˆ·
   â‘  å•†å“id(1,3,5);
   â‘¡ å•†å“id(1,5,7,8);
   
   å¦‚æœè®°å½•ä¸ºç©º - æ˜¯ç›®æ ‡çš„.
   
-- æ±‚è´­ä¹°çš„å•†å“å’Œé¡¾å®¢&quot;Dennis&quot;æ‰€è´­ä¹°çš„æ‰€æœ‰å•†å“ä¸€æ¨¡ä¸€æ ·[ä¸ªæ•°ä¹Ÿä¸€æ ·]

-- åˆ†è§£01
 select c1.customerid,c1.name from customer c1 where not exists(
					select 1 from(select pur.productid aid from purcase pur join customer c on 	  	c.customerid &#x3D; pur.customerid where c.name&#x3D;&#39;Dennis&#39;) core_ where core_.aid not in(
	select p1.productid bid from purcase p1 where p1.customerid&#x3D;c1.customerid
)
			) and c1.name&lt;&gt;&#39;Dennis&#39;;

-- æŸ¥è¯¢å‡ºDennisè´­ä¹°çš„å•†å“çš„ä¸ªæ•°
mysql&gt; select count(*) from purcase pur where pur.customerid &#x3D; (select c2.customerid from customer c2 where c2.name&#x3D;&#39;Dennis&#39;);

-- ç»§ç»­æ‰¾å‡ºè´­ä¹°çš„å•†å“çš„ä¸ªæ•°ä¹Ÿæ˜¯3çš„æ‰€æœ‰çš„å®¢æˆ·...
mysql&gt; select p3.customerid,count(*) from purcase p3 group by p3.customerid having count(*)&#x3D;(select count(*) from purcase pur where pur.customerid &#x3D; (select c2.customerid from customer c2 where c2.name&#x3D;&#39;Dennis&#39;));

-- æ‰¾å‡ºä¿©å¼ è™šæ‹Ÿè¡¨ä¸­çš„äº¤é›†æ•°æ®
select * from(
	 select c1.customerid xxid,c1.name from customer c1 where not exists(
					select 1 from(select pur.productid aid from purcase pur join customer c on 	  	c.customerid &#x3D; pur.customerid where c.name&#x3D;&#39;Dennis&#39;) core_ where core_.aid not in(
	select p1.productid bid from purcase p1 where p1.customerid&#x3D;c1.customerid
)
			) and c1.name&lt;&gt;&#39;Dennis&#39;
) xx where xx.xxid in(
		select p3.customerid from purcase p3 group by p3.customerid having count(*)&#x3D;(select count(*) from purcase pur where pur.customerid &#x3D; (select c2.customerid from customer c2 where c2.name&#x3D;&#39;Dennis&#39;))
);
</code></pre>











<h1 id="mysqlå•è¡Œå‡½æ•°"><a href="#mysqlå•è¡Œå‡½æ•°" class="headerlink" title="mysqlå•è¡Œå‡½æ•°"></a>mysqlå•è¡Œå‡½æ•°</h1><p>ç®€ä»‹:<font color="red">100%ä¸ä¼šç”¨.äº†è§£</font>.</p>
<h2 id="å­—ç¬¦ä¸²å‡½æ•°"><a href="#å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å‡½æ•°"></a>å­—ç¬¦ä¸²å‡½æ•°</h2><ol>
<li><p>instr(str,substr) - è¿”å›å­—ç¬¦ä¸²substråœ¨å­—ç¬¦ä¸²strç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®(strä¸åŒ…å«substræ—¶è¿”å›0)</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select instr(&#39;ppopo&#39;,&#39;o&#39;);&#x2F;&#x2F;3,æ‰¾ä¸åˆ°åˆ™è¿”å›0</code></pre></li>
<li><p>lpad(str,len,padstr) - ç”¨å­—ç¬¦ä¸²padstrå¡«è¡¥strå·¦ç«¯ç›´åˆ°å­—ä¸²é•¿åº¦ä¸ºlenå¹¶è¿”å› </p>
</li>
<li><p>rpad(str,len,padstr) - ç”¨å­—ç¬¦ä¸²padstrå¡«è¡¥strå³ç«¯ç›´åˆ°å­—ä¸²é•¿åº¦ä¸ºlenå¹¶è¿”å›</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select rpad(&#39;abc&#39;,6,&#39;do&#39;);&#x2F;&#x2F;abcdod</code></pre></li>
<li><p>left(str,len) - è¿”å›å­—ç¬¦ä¸²strçš„å·¦ç«¯lenä¸ªå­—ç¬¦ </p>
</li>
<li><p>right(str,len) - è¿”å›å­—ç¬¦ä¸²strçš„å³ç«¯lenä¸ªå­—ç¬¦ </p>
</li>
<li><p>substring(str,pos,len) - è¿”å›å­—ç¬¦ä¸²strçš„ä½ç½®posèµ·lenä¸ªå­—ç¬¦</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select substring(&#39;hello&#39;,1,1);</code></pre></li>
<li><p>substring(str,pos) - è¿”å›å­—ç¬¦ä¸²strçš„ä½ç½®posèµ·åé¢çš„å­ä¸² </p>
</li>
<li><p>ltrim(str) - è¿”å›åˆ é™¤äº†å·¦ç©ºæ ¼çš„å­—ç¬¦ä¸²str  </p>
</li>
<li><p>rtrim(str)  - è¿”å›åˆ é™¤äº†å³ç©ºæ ¼çš„å­—ç¬¦ä¸²str  </p>
</li>
<li><p>space(n) - è¿”å›ç”±nä¸ªç©ºæ ¼å­—ç¬¦ç»„æˆçš„ä¸€ä¸ªå­—ç¬¦ä¸²  </p>
</li>
<li><p><em><strong>replace(str,from_str,to_str)  - ç”¨å­—ç¬¦ä¸²to_stræ›¿æ¢å­—ç¬¦ä¸²strä¸­çš„å­ä¸²from_strå¹¶è¿”å›</strong></em> </p>
</li>
<li><p>reverse(str) - é¢ å€’å­—ç¬¦ä¸²strçš„å­—ç¬¦é¡ºåºå¹¶è¿”å›</p>
</li>
<li><p>insert(str,pos,len,newstr) - æŠŠå­—ç¬¦ä¸²strç”±ä½ç½®posèµ·lenä¸ªå­—ç¬¦é•¿çš„å­ä¸²æ›¿æ¢ä¸ºå­—ç¬¦ä¸²</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select insert(&#39;Carmen&#39;,2,5,&#39;*****&#39;);</code></pre></li>
<li><p>lower(str) - è¿”å›å°å†™çš„å­—ç¬¦ä¸²str  </p>
</li>
<li><p>upper(str) - è¿”å›å¤§å†™çš„å­—ç¬¦ä¸²str</p>
</li>
<li><p>char_length(str) -  ä¸ç®¡æ±‰å­—è¿˜æ˜¯æ•°å­—æˆ–è€…æ˜¯å­—æ¯éƒ½ç®—æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚</p>
</li>
<li><p>length(str);//æ±‰å­—å 3ä¸ª,å…¶ä»–å 1ä¸ª.</p>
</li>
</ol>
<p>ç»“åˆå®é™…çš„è¡¨æ¥è¿›è¡Œæ“ä½œ.</p>
<p>æŠŠæ‰€æœ‰çš„first_nameå…¨éƒ¨è½¬æ¢æˆå¤§å†™</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select upper(first_name) from s_emp;</code></pre>



<p>å‡½æ•°æ˜¯å¯ä»¥åµŒå¥—å‡½æ•°ä½¿ç”¨çš„.</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select upper(substring(first_name,1,1)) from s_emp;</code></pre>

<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ul>
<li><p>å•ç‹¬æµ‹è¯•</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">-- utf8ä¸‹ä¸€ä¸ªæ±‰å­—å 3ä¸ªå­—èŠ‚,å­—æ¯æ•°å­—ç¬¦å·å 1ä¸ªå­—èŠ‚
-- gbkä¸‹ä¸€ä¸ªæ±‰å­—å 2ä¸ªå­—èŠ‚,å­—æ¯æ•°å­—ç¬¦å·å 1ä¸ªå­—èŠ‚
mysql&gt; select length(&#39;abc&#39;);</code></pre></li>
<li><p>å‡½æ•°å’Œè¡¨ç»“åˆå¦‚ä½•ä½¿ç”¨</p>
<p>å‡½æ•°(åˆ—)</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select first_name,length(first_name) from s_emp;</code></pre></li>
<li><p><em><strong>å‡½æ•°æ˜¯å¯ä»¥åµŒå¥—ä½¿ç”¨çš„</strong></em></p>
</li>
</ul>
<h3 id="ç»ƒä¹ -2"><a href="#ç»ƒä¹ -2" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><ul>
<li><p>æ¨¡æ‹Ÿé“¶è¡Œçš„first_nameæ¨¡ç³Šæ˜¾ç¤º</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">Carmen C*****
å¼ ä¸‰    å¼ *
æå››å„¿  æ**

-- æ€è·¯ - å…ˆæˆªå–first_nameçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ - substring(str,pos,len)
       -- ç¬¬ä¸€ä¸ªå­—ç¬¦åé¢ç»§ç»­æ‹¼æ¥ (åŸå­—ç¬¦é•¿åº¦-1)ä¸ª* - rpad
       -- concat
mysql&gt; select first_name,concat(substring(first_name,1,1),rpad(&#39;*&#39;,char_length(first_name)-1,&#39;*&#39;)) from s_emp;

-- ç›´æ¥ä½¿ç”¨rpadå‡½æ•° rpad(str,æ€»é•¿åº¦,æ‹¼æ¥çš„str);
mysql&gt; select first_name,rpad(substring(first_name,1,1),char_length(first_name),&#39;*&#39;) from s_emp;

-- ä½¿ç”¨replaceæ›¿æ¢ replace(åŸå­—ç¬¦ä¸²,åŸå­—ç¬¦ä¸²å³å°†è¢«æ›¿ä»£çš„å­—ç¬¦ä¸²,æ–°çš„å­—ç¬¦ä¸²);
mysql&gt; select first_name,replace(first_name,substring(first_name,2),rpad(&#39;*&#39;,char_length(first_name)-1,&#39;*&#39;)) from s_emp;

-- insert(str,pos,len,newstr)
mysql&gt; select first_name,insert(first_name,2,char_length(first_name)-1,rpad(&#39;*&#39;,char_length(first_name)-1,&#39;*&#39;)) from s_emp;</code></pre></li>
</ul>
<h1 id="æ•°å­—å‡½æ•°"><a href="#æ•°å­—å‡½æ•°" class="headerlink" title="æ•°å­—å‡½æ•°"></a>æ•°å­—å‡½æ•°</h1><ol>
<li><p>abs(n) - æ±‚ç»å¯¹å€¼</p>
</li>
<li><p>mod(n,m) - å–æ¨¡è¿ç®—,è¿”å›nè¢«mé™¤çš„ä½™æ•°(åŒ%æ“ä½œç¬¦)</p>
<pre class="language-java" data-language="java"><code class="language-java">åº”ç”¨<span class="token operator">:</span> åˆ©ç”¨å–æ•´å’Œå–ä½™æ¥è·å–æŸä¸ªæ•°å­—çš„ä»»æ„ä½ä¸Šçš„æŸä¸ªæ•°å­—
<span class="token number">2018</span> <span class="token operator">-</span> <span class="token number">8</span>
æŠ€å·§ <span class="token operator">-</span> åªè¦è·å–æŸä¸ªæ•°å­—çš„æœ€æœ«å°¾çš„å•ä¸ªæ•°å­— <span class="token operator">-</span> <span class="token operator">%</span><span class="token number">10</span>
  
è·å–<span class="token number">2018</span>ä¸­çš„<span class="token number">1</span>
<span class="token number">2018</span><span class="token operator">/</span><span class="token number">10</span> <span class="token operator">=</span> <span class="token number">201</span>
  
select <span class="token function">mod</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><strong>floor(n) - è¿”å›ä¸å¤§äºnçš„æœ€å¤§æ•´æ•°å€¼</strong> - å‘ä¸‹å–æ•´  </p>
</li>
<li><p><strong>ceiling(n) - è¿”å›ä¸å°äºnçš„æœ€å°æ•´æ•°å€¼</strong>  - å‘ä¸Šå–æ•´ </p>
</li>
<li><p>round(n[,d]) - è¿”å›nçš„å››èˆäº”å…¥å€¼,ä¿ç•™dä½å°æ•°(dçš„é»˜è®¤å€¼ä¸º0)</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select round(3.5);

mysql&gt;select round(3.456,2);&#x2F;&#x2F;3.46</code></pre></li>
<li><p>pow(x,y) - è¿”å›å€¼xçš„yæ¬¡å¹‚  </p>
</li>
<li><p>sqrt(n) - è¿”å›éè´Ÿæ•°nçš„å¹³æ–¹æ ¹</p>
</li>
<li><p>pi() - è¿”å›åœ†å‘¨ç‡  </p>
</li>
<li><p>rand() - è¿”å›åœ¨èŒƒå›´[0åˆ°1.0)å†…çš„éšæœºæµ®ç‚¹å€¼</p>
</li>
<li><p>truncate(n,d) - ä¿ç•™æ•°å­—nçš„dä½å°æ•°å¹¶è¿”å›  - ç›´æ¥æˆªå–</p>
</li>
</ol>
   <pre class="language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt;select truncate(3.56,0);&#x2F;&#x2F;3</code></pre>

<h3 id="ç»ƒä¹ -3"><a href="#ç»ƒä¹ -3" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- æ±‚1-3ä¹‹é—´çš„éšæœºæ•´æ•°</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token keyword">truncate</span><span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h1 id="æ—¥æœŸå‡½æ•°"><a href="#æ—¥æœŸå‡½æ•°" class="headerlink" title="æ—¥æœŸå‡½æ•°"></a>æ—¥æœŸå‡½æ•°</h1><p>æŸ¥è¯¢å½“å‰ç³»ç»Ÿçš„æ—¥æœŸ - select now();</p>
<ol>
<li><p>dayofweek(date) - è¿”å›æ—¥æœŸdateæ˜¯æ˜ŸæœŸå‡ (1=æ˜ŸæœŸå¤©,2=æ˜ŸæœŸä¸€,â€¦â€¦7=æ˜ŸæœŸå…­,odbcæ ‡å‡†)  </p>
</li>
<li><p>weekday(date) - è¿”å›æ—¥æœŸdateæ˜¯æ˜ŸæœŸå‡ (0=æ˜ŸæœŸä¸€,1=æ˜ŸæœŸäºŒ,â€¦â€¦6= æ˜ŸæœŸå¤©)</p>
</li>
<li><p>year(date) - è¿”å›dateçš„å¹´ä»½(èŒƒå›´åœ¨1000åˆ°9999)    </p>
</li>
<li><p>month(date)  - è¿”å›dateä¸­çš„æœˆä»½æ•°å€¼   </p>
</li>
<li><p>dayofmonth(date) - è¿”å›dateæ˜¯ä¸€æœˆä¸­çš„ç¬¬å‡ æ—¥(åœ¨1åˆ°31èŒƒå›´å†…)   </p>
</li>
<li><p>hour(time) - è¿”å›timeçš„å°æ—¶æ•°(èŒƒå›´æ˜¯0åˆ°23)  </p>
</li>
<li><p>minute(time) - è¿”å›timeçš„åˆ†é’Ÿæ•°(èŒƒå›´æ˜¯0åˆ°59) </p>
</li>
<li><p>second(time) - è¿”å›timeçš„ç§’æ•°(èŒƒå›´æ˜¯0åˆ°59) </p>
</li>
<li><p>period_add(p,n) - å¢åŠ nä¸ªæœˆåˆ°æ—¶æœŸpå¹¶è¿”å›(pçš„æ ¼å¼yymmæˆ–yyyymm) </p>
<p>mysql&gt;select period_add(â€˜202008â€™,3) ;</p>
<p>æ³¨æ„:på¯ä»¥æ˜¯å­—ç¬¦ä¸²,ä¸€å®šè¦æ»¡è¶³ä¸€å®šçš„æ ¼å¼,æˆ–è€…å¯ä»¥ç›´æ¥ä½¿ç”¨dateç±»å‹.</p>
</li>
<li><p>period_diff(p1,p2) - è¿”å›åœ¨æ—¶æœŸp1å’Œp2ä¹‹é—´æœˆæ•°(p1å’Œp2çš„æ ¼å¼yymmæˆ–yyyymm)  p1-p2</p>
</li>
<li><p>curdate() - ä»¥â€™yyyy-mm-ddâ€™æˆ–yyyymmddæ ¼å¼è¿”å›å½“å‰æ—¥æœŸå€¼(æ ¹æ®è¿”å›å€¼æ‰€å¤„ä¸Šä¸‹æ–‡æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—) </p>
</li>
<li><p>curtime() - ä»¥â€™hh:mm:ssâ€™æˆ–hhmmssæ ¼å¼è¿”å›å½“å‰æ—¶é—´å€¼(æ ¹æ®è¿”å›å€¼æ‰€å¤„ä¸Šä¸‹æ–‡æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—)</p>
</li>
<li><p>now() - ä»¥â€™yyyy-mm-dd hh:mm:ssâ€™æˆ–yyyymmddhhmmssæ ¼å¼è¿”å›å½“å‰æ—¥æœŸæ—¶é—´(æ ¹æ®è¿”å›å€¼æ‰€å¤„ä¸Šä¸‹æ–‡æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—)     </p>
</li>
<li><p>last_day(date) - dateæ—¥æœŸæ‰€åœ¨æœˆçš„æœ€åä¸€å¤©æ˜¯ä»€ä¹ˆæ—¶å€™</p>
</li>
<li><p>datediff(d1,d2) - ä¸¤ä¸ªæ—¥æœŸd1,d2ä¹‹é—´ç›¸å·®çš„å¤©æ•°</p>
</li>
<li><p>timestampdiff(type,d1,d2) - typeæ˜¯YEAR,d1å’Œd2ç›¸å·®çš„å¹´ä»½,MONTH,æœˆä»½</p>
<p>d1,d2 - yyyymmdd</p>
</li>
</ol>
<p>mysqlä¸­,è™½ç„¶æ—¥æœŸdate_formatå‡½æ•°æ¥è½¬æˆå­—ç¬¦ä¸²ç±»å‹çš„,mysqlå†…éƒ¨ä¸ºäº†ç®€åŒ–æˆ‘ä»¬çš„å†™æ³•,æœ‰çš„æ—¶å€™æœ‰çš„å‡½æ•°.</p>
<p>åªè¦ä½ ä¼ å…¥çš„å­—ç¬¦ä¸²æ»¡è¶³ä¸€å®šçš„æ ¼å¼,é‚£ä¹ˆå®ƒå°±ä¼šè‡ªåŠ¨è¢«è½¬æˆæ—¥æœŸå‡½æ•°.</p>
<h2 id="æ—¥æœŸå‡½æ•°è¡¥å……"><a href="#æ—¥æœŸå‡½æ•°è¡¥å……" class="headerlink" title="æ—¥æœŸå‡½æ•°è¡¥å……"></a>æ—¥æœŸå‡½æ•°è¡¥å……</h2><ul>
<li>date_add(date,interval æ•°å­— type)</li>
<li>date_sub(date,interval æ•°å­— type)</li>
</ul>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">type</span>:
<span class="token keyword">year</span>
<span class="token keyword">month</span>
<span class="token keyword">day</span>
<span class="token keyword">hour</span>
<span class="token keyword">minute</span>
<span class="token keyword">second</span></code></pre>




<h3 id="æ—¥æœŸæ ¼å¼åŒ–"><a href="#æ—¥æœŸæ ¼å¼åŒ–" class="headerlink" title="æ—¥æœŸæ ¼å¼åŒ–"></a>æ—¥æœŸæ ¼å¼åŒ–</h3><p>date_format(date,format)    </p>
<pre class="language-java" data-language="java"><code class="language-java">æ ¹æ®formatå­—ç¬¦ä¸²æ ¼å¼åŒ–dateå€¼  
ã€€<span class="token punctuation">(</span>åœ¨formatå­—ç¬¦ä¸²ä¸­å¯ç”¨æ ‡å¿—ç¬¦<span class="token operator">:</span>  
ã€€<span class="token operator">%</span>m æœˆåå­—<span class="token punctuation">(</span>januaryâ€¦â€¦december<span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>w æ˜ŸæœŸåå­—<span class="token punctuation">(</span>sundayâ€¦â€¦saturday<span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>d æœ‰è‹±è¯­å‰ç¼€çš„æœˆä»½çš„æ—¥æœŸ<span class="token punctuation">(</span><span class="token number">1</span>st<span class="token punctuation">,</span> <span class="token number">2</span>nd<span class="token punctuation">,</span> <span class="token number">3</span>rd<span class="token punctuation">,</span> ç­‰ç­‰ã€‚ï¼‰    
ã€€<span class="token operator">%</span><span class="token class-name">Y</span> å¹´<span class="token punctuation">,</span> æ•°å­—<span class="token punctuation">,</span> <span class="token number">4</span> ä½    
ã€€<span class="token operator">%</span>y å¹´<span class="token punctuation">,</span> æ•°å­—<span class="token punctuation">,</span> <span class="token number">2</span> ä½    
ã€€<span class="token operator">%</span>a ç¼©å†™çš„æ˜ŸæœŸåå­—<span class="token punctuation">(</span>sunâ€¦â€¦sat<span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>d æœˆä»½ä¸­çš„å¤©æ•°<span class="token punctuation">,</span> æ•°å­—<span class="token punctuation">(</span><span class="token number">00</span>â€¦â€¦<span class="token number">31</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>e æœˆä»½ä¸­çš„å¤©æ•°<span class="token punctuation">,</span> æ•°å­—<span class="token punctuation">(</span><span class="token number">0</span>â€¦â€¦<span class="token number">31</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>m æœˆ<span class="token punctuation">,</span> æ•°å­—<span class="token punctuation">(</span><span class="token number">01</span>â€¦â€¦<span class="token number">12</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>c æœˆ<span class="token punctuation">,</span> æ•°å­—<span class="token punctuation">(</span><span class="token number">1</span>â€¦â€¦<span class="token number">12</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>b ç¼©å†™çš„æœˆä»½åå­—<span class="token punctuation">(</span>janâ€¦â€¦dec<span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>j ä¸€å¹´ä¸­çš„å¤©æ•°<span class="token punctuation">(</span><span class="token number">001</span>â€¦â€¦<span class="token number">366</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span><span class="token class-name">H</span> <span class="token number">24</span>æ—¶åˆ¶å°æ—¶<span class="token punctuation">(</span><span class="token number">00</span>â€¦â€¦<span class="token number">23</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>k å°æ—¶<span class="token punctuation">(</span><span class="token number">0</span>â€¦â€¦<span class="token number">23</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>h <span class="token number">12</span>æ—¶å°æ—¶<span class="token punctuation">(</span><span class="token number">01</span>â€¦â€¦<span class="token number">12</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>i å°æ—¶<span class="token punctuation">(</span><span class="token number">01</span>â€¦â€¦<span class="token number">12</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>l å°æ—¶<span class="token punctuation">(</span><span class="token number">1</span>â€¦â€¦<span class="token number">12</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>i åˆ†é’Ÿ<span class="token punctuation">,</span> æ•°å­—<span class="token punctuation">(</span><span class="token number">00</span>â€¦â€¦<span class="token number">59</span><span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>r æ—¶é—´<span class="token punctuation">,</span><span class="token number">12</span> å°æ—¶<span class="token punctuation">(</span>hh<span class="token operator">:</span>mm<span class="token operator">:</span>ss <span class="token punctuation">[</span>ap<span class="token punctuation">]</span>m<span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>t æ—¶é—´<span class="token punctuation">,</span><span class="token number">24</span> å°æ—¶<span class="token punctuation">(</span>hh<span class="token operator">:</span>mm<span class="token operator">:</span>ss<span class="token punctuation">)</span>    
ã€€<span class="token operator">%</span>s ç§’<span class="token punctuation">(</span><span class="token number">00</span>â€¦â€¦<span class="token number">59</span><span class="token punctuation">)</span>       
ã€€<span class="token operator">%</span>p amæˆ–pm    
ã€€<span class="token operator">%</span>w ä¸€ä¸ªæ˜ŸæœŸä¸­çš„å¤©æ•°<span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">=</span>sunday â€¦â€¦<span class="token number">6</span><span class="token operator">=</span>saturday ï¼‰                </code></pre>



<h1 id="è½¬æ¢å‡½æ•°"><a href="#è½¬æ¢å‡½æ•°" class="headerlink" title="è½¬æ¢å‡½æ•°"></a>è½¬æ¢å‡½æ•°</h1><p>å­—ç¬¦ä¸²,æ•°å­—|æ—¥æœŸä¹‹é—´çš„ç›¸äº’è½¬æ¢é—®é¢˜ - å¿…é¡»æŒæ¡.</p>
<ul>
<li><p>å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´è½¬æ¢</p>
<pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token string">'10'</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">-- æ•°å­—->å­—ç¬¦ä¸²</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>å­—ç¬¦ä¸²ä¸æ—¥æœŸä¹‹é—´è½¬æ¢</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">create table tt(
	id int(7) primary key,
  birthday date
);
-- DMLæ“ä½œ - insert,update,delete
  
-- æ”¯æŒè‡ªåŠ¨è½¬æ¢
-- mysqlä¸­insertè¯­å¥ä¸­,åªè¦çš„å­—ç¬¦ä¸²æ»¡è¶³&#39;yyyy-mm-dd&#39;
  ,&#39;yyyy&#x2F;mm&#x2F;dd&#39;,&#39;yyyymmdd&#39;
-- mysqlåº•å±‚ä¼šè‡ªåŠ¨å°†è¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸç±»å‹
insert into tt values(1,&#39;2020-09-08&#39;);
insert into tt values(2,&#39;2020&#x2F;09&#x2F;08&#39;);
insert into tt values(3,&#39;20200908&#39;);

mysql&gt; insert into tt values(3,&#39;08&#x2F;09&#x2F;2013&#39;);&#x2F;&#x2F;error
éœ€è¦å°†å­—ç¬¦ä¸²&#39;08&#x2F;09&#x2F;2013&#39; - dateç±»å‹[å¹´æœˆæ—¥]
  
æ—¥æœŸè½¬æ¢æˆå­—ç¬¦ä¸²ä½¿ç”¨date_formatå‡½æ•°
mysql&gt; select date_format(now(),&#39;%y&#x2F;%m&#x2F;%d&#39;);

mysql&gt; select first_name,date_format(start_date,&#39;%Y&#39;) from s_emp;
 

å­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸstr_to_date(str,format)ï¼›æ³¨:formatæ ¼å¼å¿…é¡»å’Œstrçš„æ ¼å¼ç›¸åŒï¼Œå¦åˆ™è¿”å›ç©º
%Y  %m  %d  %H   %i  %s

select str_to_date(&#39;08&#x2F;09&#x2F;2013&#39;,&#39;%d&#x2F;%m&#x2F;%Y&#39;);

ä¸ºäº†è¯æ˜æ˜¯å¯¹çš„
mysql&gt; insert into tt values(4,str_to_date(&#39;08&#x2F;09&#x2F;2013&#39;,&#39;%d&#x2F;%m&#x2F;%Y&#39;));</code></pre>
<h1 id="å‡½æ•°ç»ƒä¹ "><a href="#å‡½æ•°ç»ƒä¹ " class="headerlink" title="å‡½æ•°ç»ƒä¹ "></a>å‡½æ•°ç»ƒä¹ </h1></li>
</ul>
<ol>
<li><p>æ‰¾å‡ºåå­—é•¿åº¦è¶…è¿‡5çš„å‘˜å·¥</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> char_length<span class="token punctuation">(</span>first_name<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp <span class="token keyword">where</span> char_length<span class="token punctuation">(</span>first_name<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">5</span><span class="token punctuation">;</span></code></pre></li>
<li><p>æ‰¾å‡ºå‘˜å·¥çš„å·¥ä½œæœˆæ•°</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token keyword">month</span><span class="token punctuation">(</span>start_date<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp<span class="token punctuation">;</span></code></pre></li>
<li><p>æŸ¥è¯¢å‘˜å·¥çš„å·¥ä½œå¤©æ•°</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> timestampdiff<span class="token punctuation">(</span><span class="token keyword">DAY</span><span class="token punctuation">,</span>start_date<span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp<span class="token punctuation">;</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> datediff<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>start_date<span class="token punctuation">)</span> <span class="token keyword">from</span> s_emp<span class="token punctuation">;</span></code></pre></li>
<li><p>è®¡ç®—ä¸€å¹´å‰,å½“å‰,ä¸€å¹´åçš„æ—¶é—´:</p>
<pre class="language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> date_sub<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">1</span> <span class="token keyword">year</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">1</span> <span class="token keyword">year</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p>å½“å‰æ—¥æœŸå‰å…­ä¸ªæœˆçš„æœ€åä¸€å¤©;</p>
<p>```sql<br>mysql&gt; select last_day(date_sub(now(),interval 6 month));</p>
</li>
<li><p>æŠŠå‘˜å·¥çš„å…¥èŒæ—¥æœŸæ ¼å¼åŒ–ä¸ºå¹´/æœˆ/æ—¥</p>
<p>```sql<br>mysql&gt; select date_format(start_date,â€™%Yå¹´%mæœˆ%dæ—¥â€™) from s_emp;</p>
</li>
<li><p>æ‰¾å‡º5æœˆä»½å…¥èŒçš„å‘˜å·¥</p>
<p>```sql<br>mysql&gt; select first_name,start_date from s_emp where month(start_date)=5;</p>
</li>
</ol>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>ZR</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/" title="43-MySQLè¯­æ³•">https://zr-java.github.io/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/02/18/44-JDBC%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C/" rel="prev" title="43-JDBCçº§è”æ“ä½œ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">43-JDBCçº§è”æ“ä½œ</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/12/12/42-MySQL/" rel="next" title="42-MySQL"><span class="post-nav-text">42-MySQL</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 â€“ 2022 </span><span class="with-love" id="animate" title="æ•²å•Šæ•²,ç‚¹å•Šç‚¹å°±æ˜¯æ²¡æœ‰ç”¨"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> ZR</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v5.4.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-19T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div></div><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.1.1/js/index.js"></script><div id="widget-tree">
      <ul><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/DataBase/">DataBase</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/12/42-MySQL/" title="42-MySQL"><i class="post-icon gg-file-document"></i>42-MySQL</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/12/43-MySQL%E8%AF%AD%E6%B3%95/" title="43-MySQLè¯­æ³•"><i class="post-icon gg-file-document"></i>43-MySQLè¯­æ³•</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Homework/">Homework</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/05/%E5%88%A4%E6%96%AD%E5%BE%AA%E7%8E%AF%E4%BD%9C%E4%B8%9A/" title="åˆ¤æ–­å¾ªç¯ä½œä¸š"><i class="post-icon gg-file-document"></i>åˆ¤æ–­å¾ªç¯ä½œä¸š</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/23/%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%A4%9A%E6%80%81%E4%BD%9C%E4%B8%9A/" title="æ¥å£ä¸å¤šæ€ä½œä¸š"><i class="post-icon gg-file-document"></i>æ¥å£ä¸å¤šæ€ä½œä¸š</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/16/%E6%95%B0%E7%BB%84%E4%BD%9C%E4%B8%9A/" title="æ•°ç»„ä½œä¸š"><i class="post-icon gg-file-document"></i>æ•°ç»„ä½œä¸š</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/JDBC/">JDBC</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/12/40-JDBC/" title="40-JDBC"><i class="post-icon gg-file-document"></i>40-JDBC</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/12/41-JDBC%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E4%BF%A1%E6%81%AF/" title="41-JDBCå¸¸ç”¨æ•°æ®åº“è¿æ¥ä¿¡æ¯"><i class="post-icon gg-file-document"></i>41-JDBCå¸¸ç”¨æ•°æ®åº“è¿æ¥ä¿¡æ¯</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/02/18/44-JDBC%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C/" title="43-JDBCçº§è”æ“ä½œ"><i class="post-icon gg-file-document"></i>43-JDBCçº§è”æ“ä½œ</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/02/23/47-JDBC%E8%BF%9E%E6%8E%A5%E6%B1%A0/" title="47-JDBCè¿æ¥æ± "><i class="post-icon gg-file-document"></i>47-JDBCè¿æ¥æ± </a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/02/22/45-JDBC%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86/" title="45-JDBCäº‹åŠ¡å¤„ç†"><i class="post-icon gg-file-document"></i>45-JDBCäº‹åŠ¡å¤„ç†</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/02/22/46-JDBC%E6%89%B9%E9%87%8F%E6%9B%B4%E6%96%B0/" title="46-JDBCæ‰¹é‡æ›´æ–°"><i class="post-icon gg-file-document"></i>46-JDBCæ‰¹é‡æ›´æ–°</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/JavaEE/">JavaEE</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/54-JavaEE%E7%9A%84%E6%A6%82%E8%BF%B0/" title="54-JavaEEçš„æ¦‚è¿°"><i class="post-icon gg-file-document"></i>54-JavaEEçš„æ¦‚è¿°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/58-Servlet%E7%9A%84%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94/" title="58-Servletçš„è¯·æ±‚ä¸å“åº”"><i class="post-icon gg-file-document"></i>58-Servletçš„è¯·æ±‚ä¸å“åº”</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/55-Maven%E7%9A%84%E6%A6%82%E8%BF%B0/" title="55-Mavençš„æ¦‚è¿°"><i class="post-icon gg-file-document"></i>55-Mavençš„æ¦‚è¿°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/56-Tomcat/" title="56-Tomcat"><i class="post-icon gg-file-document"></i>56-Tomcat</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/57-Servlet%E5%9F%BA%E7%A1%80%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" title="57-ServletåŸºç¡€åŠç”Ÿå‘½å‘¨æœŸ"><i class="post-icon gg-file-document"></i>57-ServletåŸºç¡€åŠç”Ÿå‘½å‘¨æœŸ</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/60-Servlet%E7%9A%84%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%8E%E7%9B%91%E5%90%AC%E5%99%A8/" title="60-Servletçš„è¿‡æ»¤å™¨ä¸ç›‘å¬å™¨"><i class="post-icon gg-file-document"></i>60-Servletçš„è¿‡æ»¤å™¨ä¸ç›‘å¬å™¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/59-Servlet%E9%AB%98%E7%BA%A7/" title="59-Servleté«˜çº§"><i class="post-icon gg-file-document"></i>59-Servleté«˜çº§</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/09/61-JSP%E5%9F%BA%E7%A1%80/" title="61-JSPåŸºç¡€"><i class="post-icon gg-file-document"></i>61-JSPåŸºç¡€</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/10/62-JSP%E7%BC%96%E8%AF%91%E4%B8%8E%E5%8A%A8%E4%BD%9C%E6%8C%87%E4%BB%A4/" title="62-JSPç¼–è¯‘ä¸åŠ¨ä½œæŒ‡ä»¤"><i class="post-icon gg-file-document"></i>62-JSPç¼–è¯‘ä¸åŠ¨ä½œæŒ‡ä»¤</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/13/63-JSP%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1/" title="63-JSPå†…ç½®å¯¹è±¡"><i class="post-icon gg-file-document"></i>63-JSPå†…ç½®å¯¹è±¡</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/13/64-JSP%E7%9A%84EL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8CJSTL/" title="64-JSPçš„ELè¡¨è¾¾å¼å’ŒJSTL"><i class="post-icon gg-file-document"></i>64-JSPçš„ELè¡¨è¾¾å¼å’ŒJSTL</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/14/65-jQuery/" title="65-jQuery"><i class="post-icon gg-file-document"></i>65-jQuery</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/JavaSE/">JavaSE</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/01-Java%E8%AF%AD%E8%A8%80%E4%BB%8B%E7%BB%8D%E5%8F%8A%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="01-Javaè¯­è¨€ä»‹ç»åŠç¯å¢ƒæ­å»º"><i class="post-icon gg-file-document"></i>01-Javaè¯­è¨€ä»‹ç»åŠç¯å¢ƒæ­å»º</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/02-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E5%8D%95%E4%BD%8D/" title="02-åŸºæœ¬è¯­æ³•å•ä½"><i class="post-icon gg-file-document"></i>02-åŸºæœ¬è¯­æ³•å•ä½</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/03-Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="03-JavaåŸºæœ¬æ•°æ®ç±»å‹"><i class="post-icon gg-file-document"></i>03-JavaåŸºæœ¬æ•°æ®ç±»å‹</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/04-Java%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="04-Javaè¡¨è¾¾å¼"><i class="post-icon gg-file-document"></i>04-Javaè¡¨è¾¾å¼</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%A6%82%E8%BF%B0/" title="05-é¢å‘å¯¹è±¡çš„æ¦‚è¿°"><i class="post-icon gg-file-document"></i>05-é¢å‘å¯¹è±¡çš„æ¦‚è¿°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/06-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA/" title="06-è‡ªå®šä¹‰ç±»å’Œå¯¹è±¡çš„åˆ›å»º"><i class="post-icon gg-file-document"></i>06-è‡ªå®šä¹‰ç±»å’Œå¯¹è±¡çš„åˆ›å»º</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/22/07-%E6%95%B0%E7%BB%84/" title="07-æ•°ç»„"><i class="post-icon gg-file-document"></i>07-æ•°ç»„</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/31/08-String%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E8%AE%B2%E8%A7%A3/" title="08-Stringå¸¸ç”¨æ–¹æ³•è®²è§£"><i class="post-icon gg-file-document"></i>08-Stringå¸¸ç”¨æ–¹æ³•è®²è§£</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/08/09-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84/" title="09-äºŒç»´æ•°ç»„"><i class="post-icon gg-file-document"></i>09-äºŒç»´æ•°ç»„</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/08/10-%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" title="10-å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ"><i class="post-icon gg-file-document"></i>10-å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/11/11-PowerDesigner%E7%94%BB%E7%B1%BB%E5%9B%BE/" title="11-PowerDesignerç”»ç±»å›¾"><i class="post-icon gg-file-document"></i>11-PowerDesignerç”»ç±»å›¾</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/11/12-%E4%BD%BF%E7%94%A8%E7%8E%B0%E6%9C%89%E7%B1%BB%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB/" title="12-ä½¿ç”¨ç°æœ‰ç±»å’Œè‡ªå®šä¹‰ç±»"><i class="post-icon gg-file-document"></i>12-ä½¿ç”¨ç°æœ‰ç±»å’Œè‡ªå®šä¹‰ç±»</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/28/13-%E5%AF%B9%E8%B1%A1%E6%9E%84%E9%80%A0%E5%92%8C%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E3%80%81%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F/" title="13-å¯¹è±¡æ„é€ å’Œæˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡"><i class="post-icon gg-file-document"></i>13-å¯¹è±¡æ„é€ å’Œæˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/07/14-%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%AF%E5%8F%98%E9%95%BF%E5%8F%82%E6%95%B0/" title="14-æ–¹æ³•çš„å¯å˜é•¿å‚æ•°"><i class="post-icon gg-file-document"></i>14-æ–¹æ³•çš„å¯å˜é•¿å‚æ•°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/23/15-%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E8%BD%BD%E5%92%8C%E9%80%92%E5%BD%92/" title="15-æ–¹æ³•çš„é‡è½½å’Œé€’å½’"><i class="post-icon gg-file-document"></i>15-æ–¹æ³•çš„é‡è½½å’Œé€’å½’</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/24/16-this%E5%92%8Cstatic%E5%85%B3%E9%94%AE%E5%AD%97/" title="16-thiså’Œstaticå…³é”®å­—"><i class="post-icon gg-file-document"></i>16-thiså’Œstaticå…³é”®å­—</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/25/17-package/" title="17-package"><i class="post-icon gg-file-document"></i>17-package</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/25/18-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" title="18-å•ä¾‹æ¨¡å¼"><i class="post-icon gg-file-document"></i>18-å•ä¾‹æ¨¡å¼</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/26/19-%E5%B0%81%E8%A3%85%E4%B8%8E%E7%BB%A7%E6%89%BF/" title="19-å°è£…ä¸ç»§æ‰¿"><i class="post-icon gg-file-document"></i>19-å°è£…ä¸ç»§æ‰¿</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/26/20-%E6%96%B9%E6%B3%95%E7%9A%84%E8%A6%86%E7%9B%96(%E9%87%8D%E5%86%99)%E5%92%8Cinstanceof/" title="20-æ–¹æ³•çš„è¦†ç›–(é‡å†™)å’Œinstanceof"><i class="post-icon gg-file-document"></i>20-æ–¹æ³•çš„è¦†ç›–(é‡å†™)å’Œinstanceof</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/27/21-Java%E7%9A%84%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8Cfinal/" title="21-Javaçš„æŠ½è±¡ç±»å’Œfinal"><i class="post-icon gg-file-document"></i>21-Javaçš„æŠ½è±¡ç±»å’Œfinal</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/09/28/22-%E5%8C%85%E8%A3%85%E7%B1%BB%E5%92%8CObject%E7%B1%BB/" title="22-åŒ…è£…ç±»å’ŒObjectç±»"><i class="post-icon gg-file-document"></i>22-åŒ…è£…ç±»å’ŒObjectç±»</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/10/09/23-Java%E5%B8%B8%E7%94%A8%E7%B1%BB/" title="23-Javaå¸¸ç”¨ç±»"><i class="post-icon gg-file-document"></i>23-Javaå¸¸ç”¨ç±»</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/10/28/24-%E6%8E%A5%E5%8F%A3/" title="24-æ¥å£"><i class="post-icon gg-file-document"></i>24-æ¥å£</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/19/25-%E5%A4%9A%E6%80%81/" title="25-å¤šæ€"><i class="post-icon gg-file-document"></i>25-å¤šæ€</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/22/26-Java%E5%86%85%E9%83%A8%E7%B1%BB/" title="26-Javaå†…éƒ¨ç±»"><i class="post-icon gg-file-document"></i>26-Javaå†…éƒ¨ç±»</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/22/27-%E5%BC%82%E5%B8%B8/" title="27-å¼‚å¸¸"><i class="post-icon gg-file-document"></i>27-å¼‚å¸¸</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/23/28-%E6%9E%9A%E4%B8%BE/" title="28-æšä¸¾"><i class="post-icon gg-file-document"></i>28-æšä¸¾</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/23/29-%E6%B3%A8%E8%A7%A3/" title="29-æ³¨è§£"><i class="post-icon gg-file-document"></i>29-æ³¨è§£</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/24/30-%E9%9B%86%E5%90%88ArrayList/" title="30-é›†åˆArrayList"><i class="post-icon gg-file-document"></i>30-é›†åˆArrayList</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/26/31-%E9%9B%86%E5%90%88Set/" title="31-é›†åˆSet"><i class="post-icon gg-file-document"></i>31-é›†åˆSet</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/29/33-%E9%9B%86%E5%90%88Collections/" title="33-é›†åˆCollections"><i class="post-icon gg-file-document"></i>33-é›†åˆCollections</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/28/32-%E9%9B%86%E5%90%88Map/" title="32-é›†åˆMap"><i class="post-icon gg-file-document"></i>32-é›†åˆMap</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/29/34-%E9%9B%86%E5%90%88Properties/" title="34-é›†åˆProperties"><i class="post-icon gg-file-document"></i>34-é›†åˆProperties</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/29/35-JavaIO%E6%B5%81/" title="35-JavaIOæµ"><i class="post-icon gg-file-document"></i>35-JavaIOæµ</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/06/37-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="37-ç½‘ç»œç¼–ç¨‹"><i class="post-icon gg-file-document"></i>37-ç½‘ç»œç¼–ç¨‹</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/03/36-Java%E7%BA%BF%E7%A8%8B/" title="36-Javaçº¿ç¨‹"><i class="post-icon gg-file-document"></i>36-Javaçº¿ç¨‹</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/10/39-JDK8.0%E6%96%B0%E7%89%B9%E6%80%A7/" title="39-JDK8.0æ–°ç‰¹æ€§"><i class="post-icon gg-file-document"></i>39-JDK8.0æ–°ç‰¹æ€§</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/06/38-Java%E5%8F%8D%E5%B0%84/" title="38-Javaåå°„"><i class="post-icon gg-file-document"></i>38-Javaåå°„</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Markdown/">Markdown</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/Markdown%E8%8F%9C%E9%B8%9F%E7%AC%94%E8%AE%B0/" title="Markdownèœé¸Ÿç¬”è®°"><i class="post-icon gg-file-document"></i>Markdownèœé¸Ÿç¬”è®°</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/02/Markdown%E9%A2%9C%E8%89%B2%E5%AD%97%E4%BD%93/" title="Markdowné¢œè‰²å­—ä½“"><i class="post-icon gg-file-document"></i>Markdowné¢œè‰²å­—ä½“</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/Mermaid%E6%B5%81%E7%A8%8B%E5%9B%BE%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" title="Mermaidæµç¨‹å›¾å¿«é€Ÿå…¥é—¨"><i class="post-icon gg-file-document"></i>Mermaidæµç¨‹å›¾å¿«é€Ÿå…¥é—¨</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Web/">Web</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/02/24/48-HTML/" title="48-HTML"><i class="post-icon gg-file-document"></i>48-HTML</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/02/28/50-CSS/" title="50-CSS"><i class="post-icon gg-file-document"></i>50-CSS</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/02/26/49-HTML%E6%A1%86%E6%9E%B6%E5%92%8C%E8%A1%A8%E5%8D%95/" title="49-HTMLæ¡†æ¶å’Œè¡¨å•"><i class="post-icon gg-file-document"></i>49-HTMLæ¡†æ¶å’Œè¡¨å•</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/03/52-JS%E7%9A%84DOM%E7%BC%96%E7%A8%8B/" title="52-JSçš„DOMç¼–ç¨‹"><i class="post-icon gg-file-document"></i>52-JSçš„DOMç¼–ç¨‹</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/04/53-JS%E5%B8%B8%E7%94%A8%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81/" title="53-JSå¸¸ç”¨è¡¨å•éªŒè¯"><i class="post-icon gg-file-document"></i>53-JSå¸¸ç”¨è¡¨å•éªŒè¯</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/02/51-JavaScript/" title="51-JavaScript"><i class="post-icon gg-file-document"></i>51-JavaScript</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/tools/">tools</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/02/ASCll%E5%AF%B9%E7%85%A7%E8%A1%A8/" title="ASCllå¯¹ç…§è¡¨"><i class="post-icon gg-file-document"></i>ASCllå¯¹ç…§è¡¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/Aplayer%E6%92%AD%E6%94%BE%E5%99%A8/" title="Aplayeræ’­æ”¾å™¨"><i class="post-icon gg-file-document"></i>Aplayeræ’­æ”¾å™¨</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/08/19/Github-token/" title="Github_token"><i class="post-icon gg-file-document"></i>Github_token</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/07/19/hexo-theme-pure/" title="hexo-theme-pure"><i class="post-icon gg-file-document"></i>hexo-theme-pure</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/12/12/%E5%B8%B8%E7%94%A8%E7%AB%AF%E5%8F%A3/" title="å¸¸ç”¨ç«¯å£"><i class="post-icon gg-file-document"></i>å¸¸ç”¨ç«¯å£</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2022/03/10/%E5%B8%B8%E7%94%A8%E6%B3%A8%E9%87%8A/" title="å¸¸ç”¨æ³¨é‡Š"><i class="post-icon gg-file-document"></i>å¸¸ç”¨æ³¨é‡Š</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/2021/11/28/idea%E5%BF%AB%E6%8D%B7%E9%94%AE/" title="ideaå¿«æ·é”®"><i class="post-icon gg-file-document"></i>ideaå¿«æ·é”®</a></li></ul></li></ul>
        <div id="widget-tree-button">
          <i class="gg-chevron-right"></i>
        </div>
      </div><!-- hexo injector body_end end --></body></html>